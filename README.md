# ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏¢‡∏≤‡∏á‡∏û‡∏≤‡∏£‡∏≤‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏à‡∏µ‡πÄ‡∏≠‡∏û‡∏µ

[![Deploy to Azure](https://img.shields.io/badge/Deploy%20to-Azure-0078D4?logo=microsoft-azure)](https://portal.azure.com/)
[![Docker](https://img.shields.io/badge/Docker-Ready-2496ED?logo=docker)](https://www.docker.com/)
[![Next.js](https://img.shields.io/badge/Next.js-14-000000?logo=next.js)](https://nextjs.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-336791?logo=postgresql)](https://www.postgresql.org/)
[![HTTPS](https://img.shields.io/badge/HTTPS-Enabled-00C853?logo=letsencrypt)](https://letsencrypt.org/)

> üí° **‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤:** Deploy ‡∏ü‡∏£‡∏µ‡∏ö‡∏ô Azure ‡∏î‡πâ‡∏ß‡∏¢ $100 credit ‡∏à‡∏≤‡∏Å [GitHub Student Developer Pack](https://education.github.com/pack)

## üöÄ ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°

‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏¢‡∏≤‡∏á‡∏û‡∏≤‡∏£‡∏≤‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏à‡∏µ‡πÄ‡∏≠‡∏û‡∏µ (GAP - Good Agricultural Practices) ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡∏ú‡∏π‡πâ‡∏õ‡∏•‡∏π‡∏Å‡∏¢‡∏≤‡∏á‡∏û‡∏≤‡∏£‡∏≤‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ü‡∏≤‡∏£‡πå‡∏° ‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏¢‡∏≤‡∏á‡∏û‡∏≤‡∏£‡∏≤ ‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏à‡∏µ‡πÄ‡∏≠‡∏û‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö

## ‚ú® ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥

- üë®‚Äçüåæ ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô‡∏¢‡∏≤‡∏á‡∏û‡∏≤‡∏£‡∏≤
- üå± ‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏≤‡∏∞‡∏õ‡∏•‡∏π‡∏Å ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏• ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏¢‡∏≤‡∏á‡∏û‡∏≤‡∏£‡∏≤
- üìã ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏à‡∏µ‡πÄ‡∏≠‡∏û‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏¢‡∏≤‡∏á‡∏û‡∏≤‡∏£‡∏≤
- üìä ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏¢‡∏≤‡∏á‡∏û‡∏≤‡∏£‡∏≤
- üîê ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö

## üõ†Ô∏è ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ

- **Fullstack**: Next.js
- **Database**: PostgreSQL
- **ORM**: Prisma
- **Authentication**: NextAuth.js, JWT
- **Containerization**: Docker, Docker Compose
- **CI/CD**: GitHub Actions

## üìã ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Development (Local)

- Node.js (v18+)
- Docker ‡πÅ‡∏•‡∏∞ Docker Compose
- Git
- OpenSSL (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á SSL certificate)

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Production (Azure)

- Azure Account (‡πÉ‡∏ä‡πâ GitHub Student Pack ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö $100 credit)
- Azure CLI (`az`)
- Docker (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö build image)

## üöÄ Quick Start

### üè† Local Development (Docker)

```bash
# 1. Clone ‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á
git clone https://github.com/Asteriskzkx/gap-is-wa.git
cd gap-is-wa

# 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á SSL certificate
openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
  -keyout ssl/server.key -out ssl/server.crt \
  -subj "/C=TH/ST=Bangkok/L=Bangkok/O=Development/OU=IT/CN=localhost"

# 3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ environment
cp .env.example .env

# 4. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
docker-compose up -d

# 5. ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á: https://localhost
```

### ‚òÅÔ∏è Deploy to Azure (Production)

```bash
# 1. Login Azure
az login

# 2. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Azure CLI (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ)
# Windows: winget install Microsoft.AzureCLI
# Mac: brew install azure-cli
# Linux: curl -sL https://aka.ms/InstallAzureCLIDeb | sudo bash

# 3. Deploy (‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏î‡∏π‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô "‡∏Å‡∏≤‡∏£ Deploy Production")
az group create --name gap-is-wa-rg --location southeastasia
# ... (‡∏î‡∏π‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÄ‡∏ï‡πá‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á)
```

---

## üöÄ ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

### 1. Clone repository

```bash
git clone https://github.com/Asteriskzkx/gap-is-wa.git
cd gap-is-wa
```

### 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå .env (‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)

```bash
cp .env.example .env
```

### 3. ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô .env ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£

```
# Database Configuration
POSTGRES_USER=gapuser
POSTGRES_PASSWORD=gappassword
POSTGRES_DB=gapdb
POSTGRES_PORT=5433

# ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ DATABASE_URL ‡∏ï‡∏≤‡∏°‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°
# ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ö‡∏ô localhost
DATABASE_URL="postgresql://gapuser:gappassword@localhost:5433/gapdb?schema=public"
# ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Docker Compose
# DATABASE_URL="postgresql://gapuser:gappassword@postgres:5432/gapdb?schema=public"
```

### 4. ‡∏™‡∏£‡πâ‡∏≤‡∏á SSL Certificate ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Development

**‚ö†Ô∏è ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:** Certificate files ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å commit ‡∏•‡∏á GitHub ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

```bash
# ‡∏™‡∏£‡πâ‡∏≤‡∏á self-signed certificate (‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ 365 ‡∏ß‡∏±‡∏ô)
openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
  -keyout ssl/server.key \
  -out ssl/server.crt \
  -subj "/C=TH/ST=Bangkok/L=Bangkok/O=Development/OU=IT/CN=localhost"
```

**Windows PowerShell:**

```powershell
openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout ssl/server.key -out ssl/server.crt -subj "/C=TH/ST=Bangkok/L=Bangkok/O=Development/OU=IT/CN=localhost"
```

### 5. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢ Docker Compose

```bash
docker-compose up -d
```

### 6. ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô

- **HTTPS (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥):** `https://localhost`
- **HTTP:** `http://localhost` (‡∏à‡∏∞ redirect ‡πÑ‡∏õ HTTPS ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤ HTTPS ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å browser ‡∏à‡∏∞‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á certificate ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô self-signed certificate (‡∏õ‡∏Å‡∏ï‡∏¥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö development)

- **Chrome/Edge:** ‡∏Å‡∏î "Advanced" ‚Üí "Proceed to localhost (unsafe)"
- **Firefox:** ‡∏Å‡∏î "Advanced" ‚Üí "Accept the Risk and Continue"

## üíª ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤

### ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á

```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies
npm install

# ‡∏£‡∏±‡∏ô migration ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
npx prisma migrate dev

# ‡∏™‡∏£‡πâ‡∏≤‡∏á Prisma Client
npx prisma generate

# ‡∏£‡∏±‡∏ô development server
npm run dev
```

### ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Prisma Studio

```bash
npx prisma studio
```

### ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô Next.js ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Docker Database

```bash
# ‡∏õ‡∏£‡∏±‡∏ö DATABASE_URL ‡πÉ‡∏ô .env ‡πÄ‡∏õ‡πá‡∏ô
# DATABASE_URL="postgresql://gapuser:gappassword@postgres:5432/gapdb?schema=public""

npm run dev
```

## üêõ ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• PostgreSQL

- **Terminal**: `docker exec -it gap-is-wa-db psql -U gapuser -d gapdb`
- **DBeaver ‡∏´‡∏£‡∏∑‡∏≠ Database Client ‡∏≠‡∏∑‡πà‡∏ô‡πÜ**:
  - Host: `localhost`
  - Port: `5433`
  - Database: `gapdb`
  - Username: `gapuser`
  - Password: `gappassword`

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£ Migrate ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ migration
npx prisma migrate status

# ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ß‡∏±‡∏á - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)
npx prisma migrate reset
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Port

‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ port 5432 ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÇ‡∏î‡∏¢ PostgreSQL ‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢:

```bash
netstat -aon | findstr :5432
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ SSL Certificate

‡∏ñ‡πâ‡∏≤‡∏•‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏π‡∏ç‡∏´‡∏≤‡∏¢ SSL certificate ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô "‡∏™‡∏£‡πâ‡∏≤‡∏á SSL Certificate" ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô

## üöÄ ‡∏Å‡∏≤‡∏£ Deploy Production

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Production Environment

**‚ö†Ô∏è ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å:** ‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ self-signed certificate ‡πÉ‡∏ô production!

#### ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ Let's Encrypt (‡∏ü‡∏£‡∏µ - ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Certbot
apt-get update
apt-get install certbot python3-certbot-nginx

# ‡∏Ç‡∏≠ certificate (‡∏à‡∏∞‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó nginx.conf ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
certbot --nginx -d yourdomain.com -d www.yourdomain.com

# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ auto-renewal
certbot renew --dry-run
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** Let's Encrypt ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£:

- Domain name ‡∏ó‡∏µ‡πà‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏¢‡∏±‡∏á server (‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö localhost)
- Port 80 ‡πÅ‡∏•‡∏∞ 443 ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï

#### ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ Certificate ‡∏à‡∏≤‡∏Å Certificate Authority

1. ‡∏ã‡∏∑‡πâ‡∏≠ certificate ‡∏à‡∏≤‡∏Å CA (DigiCert, Comodo, GoDaddy, ‡∏Ø‡∏•‡∏Ø)
2. ‡∏ß‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå certificate ‡πÉ‡∏ô `ssl/`:
   ```
   ssl/
   ‚îú‚îÄ‚îÄ production.crt  # Certificate
   ‚îú‚îÄ‚îÄ production.key  # Private key
   ‚îî‚îÄ‚îÄ ca-bundle.crt   # CA Bundle (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
   ```
3. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `nginx.conf`:
   ```nginx
   ssl_certificate /etc/nginx/ssl/production.crt;
   ssl_certificate_key /etc/nginx/ssl/production.key;
   ```

#### ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà 3: Deploy ‡∏ö‡∏ô Azure (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö GitHub Student Pack)

> üí° **‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤:** ‡πÉ‡∏ä‡πâ Azure Student credit $100 ‡∏à‡∏≤‡∏Å GitHub Education Pack
>
> üìñ **‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÄ‡∏ï‡πá‡∏°:**
>
> - **[AZURE_DEPLOYMENT.md](./AZURE_DEPLOYMENT.md)** - ‡∏ß‡∏¥‡∏ò‡∏µ Deploy ‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô
> - **[NGINX_AZURE_GUIDE.md](./NGINX_AZURE_GUIDE.md)** - ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Nginx Config ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Azure

**‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:**

- ‚úÖ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ SSL certificate ‡πÄ‡∏≠‡∏á (Azure ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
- ‚úÖ ‡πÉ‡∏ä‡πâ HTTPS ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ú‡πà‡∏≤‡∏ô Azure domain (\*.azurewebsites.net)
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö custom domain + free managed certificate
- ‚úÖ Auto-scaling ‡πÅ‡∏•‡∏∞ monitoring built-in

**üîß ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: Nginx Configuration ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Azure**

Azure ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ SSL/TLS ‡πÉ‡∏´‡πâ ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô:

- ‡πÉ‡∏ä‡πâ `nginx.azure.conf` (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà `nginx.conf`)
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ SSL certificates ‡πÉ‡∏ô container
- Nginx listen port 80 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (Azure handle HTTPS)
- ‡∏≠‡πà‡∏≤‡∏ô [NGINX_AZURE_GUIDE.md](./NGINX_AZURE_GUIDE.md) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

##### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: Azure Container Apps (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ - ‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î)

**‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Container Apps:**

- üí∞ Pay-per-use (‡∏Ñ‡∏¥‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
- üöÄ Scale to zero (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ô‡πÉ‡∏ä‡πâ)
- üîí HTTPS ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏î‡πâ‡∏ß‡∏¢ managed certificate
- üê≥ Deploy Docker image ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á

**üöÄ Deploy ‡πÅ‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥):**

```bash
# Linux/Mac
chmod +x azure-deploy.sh
./azure-deploy.sh

# Windows PowerShell
.\azure-deploy.ps1
```

Script ‡∏à‡∏∞‡∏ó‡∏≥‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á:

- ‡∏™‡∏£‡πâ‡∏≤‡∏á Resource Group, Container Registry, Database
- Build ‡πÅ‡∏•‡∏∞ Push Docker image
- Deploy Container App ‡∏û‡∏£‡πâ‡∏≠‡∏° HTTPS
- Configure environment variables

---

**üìã Deploy ‡πÅ‡∏ö‡∏ö Manual (‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô):**

```bash
# 1. Login Azure
az login

# 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á Resource Group
az group create --name gap-is-wa-rg --location southeastasia

# 3. ‡∏™‡∏£‡πâ‡∏≤‡∏á Container Registry (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö Docker image)
az acr create --resource-group gap-is-wa-rg \
  --name gapcontainerreg --sku Basic

# 4. Build ‡πÅ‡∏•‡∏∞ Push Docker image
az acr build --registry gapcontainerreg \
  --image gap-is-wa:latest .

# 5. ‡∏™‡∏£‡πâ‡∏≤‡∏á Container Apps Environment
az containerapp env create \
  --name gap-is-wa-env \
  --resource-group gap-is-wa-rg \
  --location southeastasia

# 6. ‡∏™‡∏£‡πâ‡∏≤‡∏á PostgreSQL Database
az postgres flexible-server create \
  --name gap-is-wa-db \
  --resource-group gap-is-wa-rg \
  --location southeastasia \
  --admin-user gapuser \
  --admin-password "YourSecurePassword123!" \
  --sku-name Standard_B1ms \
  --tier Burstable \
  --storage-size 32

# 7. Deploy Container App
az containerapp create \
  --name gap-is-wa-app \
  --resource-group gap-is-wa-rg \
  --environment gap-is-wa-env \
  --image gapcontainerreg.azurecr.io/gap-is-wa:latest \
  --target-port 3000 \
  --ingress external \
  --registry-server gapcontainerreg.azurecr.io \
  --env-vars \
    NODE_ENV=production \
    DATABASE_URL="postgresql://gapuser:YourSecurePassword123!@gap-is-wa-db.postgres.database.azure.com:5432/postgres" \
    NEXTAUTH_SECRET="your-nextauth-secret" \
    NEXTAUTH_URL="https://gap-is-wa-app.kindsky-12345678.southeastasia.azurecontainerapps.io"
```

**HTTPS ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥!** ‚ú®

- Azure Container Apps ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ SSL/TLS ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- URL ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô: `https://gap-is-wa-app.[environment-unique-id].southeastasia.azurecontainerapps.io`
- Certificate ‡∏à‡∏∞ renew ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏á‡∏ß‡∏•)

**‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Custom Domain (Optional):**

```bash
# 1. ‡πÄ‡∏û‡∏¥‡πà‡∏° custom domain
az containerapp hostname add \
  --hostname yourdomain.com \
  --resource-group gap-is-wa-rg \
  --name gap-is-wa-app

# 2. Azure ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á managed certificate ‡πÉ‡∏´‡πâ‡∏ü‡∏£‡∏µ!
az containerapp hostname bind \
  --hostname yourdomain.com \
  --resource-group gap-is-wa-rg \
  --name gap-is-wa-app \
  --validation-method CNAME
```

**‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ (‡∏à‡∏≤‡∏Å $100 credit):**

- Container Apps: ~$5-15/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
- PostgreSQL Flexible Server: ~$10-20/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (Burstable tier)
- Container Registry: ~$5/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (Basic tier)
- **‡∏£‡∏ß‡∏°:** ~$20-40/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‚Üí ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ 2.5-5 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏à‡∏≤‡∏Å $100 credit

---

##### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: Azure App Service for Containers (‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å)

**‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:**

- ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ always-on application
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ scale to zero

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ Deploy:**

```bash
# 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á App Service Plan
az appservice plan create \
  --name gap-is-wa-plan \
  --resource-group gap-is-wa-rg \
  --sku B1 \
  --is-linux

# 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á Web App
az webapp create \
  --resource-group gap-is-wa-rg \
  --plan gap-is-wa-plan \
  --name gap-is-wa \
  --deployment-container-image-name gapcontainerreg.azurecr.io/gap-is-wa:latest

# 3. Configure environment variables
az webapp config appsettings set \
  --resource-group gap-is-wa-rg \
  --name gap-is-wa \
  --settings \
    NODE_ENV=production \
    DATABASE_URL="your-connection-string" \
    NEXTAUTH_SECRET="your-secret" \
    WEBSITES_PORT=3000

# 4. ‡πÄ‡∏õ‡∏¥‡∏î HTTPS-only
az webapp update \
  --resource-group gap-is-wa-rg \
  --name gap-is-wa \
  --https-only true
```

**HTTPS Configuration:**

- URL: `https://gap-is-wa.azurewebsites.net` (HTTPS ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
- Free managed certificate ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö \*.azurewebsites.net
- Custom domain: ‡πÑ‡∏î‡πâ‡∏ü‡∏£‡∏µ managed certificate ‡∏î‡πâ‡∏ß‡∏¢!

**‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Custom Domain:**

```bash
# 1. ‡πÄ‡∏û‡∏¥‡πà‡∏° custom domain
az webapp config hostname add \
  --webapp-name gap-is-wa \
  --resource-group gap-is-wa-rg \
  --hostname yourdomain.com

# 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á managed certificate (‡∏ü‡∏£‡∏µ!)
az webapp config ssl create \
  --resource-group gap-is-wa-rg \
  --name gap-is-wa \
  --hostname yourdomain.com

# 3. Bind certificate
az webapp config ssl bind \
  --resource-group gap-is-wa-rg \
  --name gap-is-wa \
  --certificate-thumbprint <thumbprint> \
  --ssl-type SNI
```

**‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢:**

- App Service (B1): ~$13/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
- PostgreSQL: ~$10-20/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
- Container Registry: ~$5/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
- **‡∏£‡∏ß‡∏°:** ~$28-38/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô

---

##### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: Azure Container Instances (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Testing/Demo)

**‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:**

- Testing/Demo environment
- ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏ï‡πà‡∏≥‡∏°‡∏≤‡∏Å
- ‡πÑ‡∏°‡πà‡∏°‡∏µ HTTPS built-in (‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö Application Gateway)

```bash
# Deploy container
az container create \
  --resource-group gap-is-wa-rg \
  --name gap-is-wa-container \
  --image gapcontainerreg.azurecr.io/gap-is-wa:latest \
  --dns-name-label gap-is-wa \
  --ports 3000 \
  --environment-variables \
    NODE_ENV=production \
    DATABASE_URL="your-connection-string"
```

**‚ö†Ô∏è ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö HTTPS ‡∏ö‡∏ô Container Instances:**
‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Azure Application Gateway ‡∏´‡∏£‡∏∑‡∏≠ Azure Front Door (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ ~$20-50/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)

---

##### üìä ‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö:

| Service                 | HTTPS            | ‡∏£‡∏≤‡∏Ñ‡∏≤/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | Scale to Zero | ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö            |
| ----------------------- | ---------------- | ---------- | ------------- | ---------------------- |
| **Container Apps**      | ‚úÖ ‡∏ü‡∏£‡∏µ (Auto)    | $5-15      | ‚úÖ ‡πÉ‡∏ä‡πà        | **Production**         |
| **App Service**         | ‚úÖ ‡∏ü‡∏£‡∏µ (Auto)    | $13+       | ‚ùå ‡πÑ‡∏°‡πà        | Production (Always-on) |
| **Container Instances** | ‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° | $2-5       | ‚úÖ ‡πÉ‡∏ä‡πà        | Testing/Demo           |

**üí° ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:** ‡πÉ‡∏ä‡πâ **Azure Container Apps** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞:

- HTTPS ‡∏ü‡∏£‡∏µ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ certificate)
- Scale to zero ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î credit
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö custom domain + managed certificate ‡∏ü‡∏£‡∏µ
- ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö Docker container ‡πÅ‡∏•‡∏∞‡∏á‡∏ö $100

---

##### üîß ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Nginx ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Azure Deployment

‡πÄ‡∏°‡∏∑‡πà‡∏≠ deploy ‡∏ö‡∏ô Azure Container Apps/App Service ‡∏Ñ‡∏∏‡∏ì**‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Nginx** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞:

- Azure ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ HTTPS/SSL ‡πÉ‡∏´‡πâ‡πÅ‡∏•‡πâ‡∏ß
- ‡∏°‡∏µ built-in load balancer ‡πÅ‡∏•‡∏∞ reverse proxy

**‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Nginx (Optional):**

- ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö caching, rate limiting, custom routing
- SSL/TLS termination ‡∏à‡∏∞‡∏ó‡∏≥‡∏ó‡∏µ‡πà Azure layer (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÉ‡∏ô container)
- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Nginx ‡πÉ‡∏´‡πâ listen port 80 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (Azure ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ HTTPS)

```nginx
# nginx.conf ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Azure
server {
    listen 80;  # ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á listen 443 (Azure ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£)
    server_name _;

    location / {
        proxy_pass http://gap-is-wa:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $http_x_forwarded_proto;
    }
}
```

---

##### üìö ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:

- [Azure for Students](https://azure.microsoft.com/free/students/)
- [Azure Container Apps Documentation](https://learn.microsoft.com/azure/container-apps/)
- [Deploy Docker containers to Azure](https://learn.microsoft.com/azure/container-apps/quickstart-portal)
- [Azure Database for PostgreSQL](https://learn.microsoft.com/azure/postgresql/)

---

#### ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà 4: Cloudflare (‡∏ü‡∏£‡∏µ - ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏™‡∏£‡∏¥‡∏°)

**‡πÉ‡∏ä‡πâ Cloudflare ‡πÄ‡∏õ‡πá‡∏ô CDN + SSL Proxy ‡∏´‡∏ô‡πâ‡∏≤ server:**

1. **‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Cloudflare (‡∏ü‡∏£‡∏µ)**
   - ‡∏ä‡∏µ‡πâ Domain nameservers ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Cloudflare
2. **‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô SSL/TLS**

   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà SSL/TLS ‚Üí Overview
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "Full" ‡∏´‡∏£‡∏∑‡∏≠ "Full (Strict)"
   - Cloudflare ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á certificate ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

3. **‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:**
   - ‚úÖ SSL/TLS ‡∏ü‡∏£‡∏µ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
   - ‚úÖ CDN ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô
   - ‚úÖ DDoS protection
   - ‚úÖ ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö server ‡πÉ‡∏î‡∏Å‡πá‡πÑ‡∏î‡πâ

---

### Environment Variables ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Production

```bash
# .env.production (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Azure Container Apps)
NODE_ENV=production
NEXTAUTH_URL=https://gap-is-wa-app.[unique-id].southeastasia.azurecontainerapps.io
DATABASE_URL=postgresql://gapuser:password@gap-is-wa-db.postgres.database.azure.com:5432/postgres?sslmode=require
NEXTAUTH_SECRET=your-random-secret-min-32-chars
POSTGRES_SSL=true

# ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö custom domain
NEXTAUTH_URL=https://yourdomain.com
```

**‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á NEXTAUTH_SECRET:**

```bash
# Linux/Mac
openssl rand -base64 32

# Windows PowerShell
[Convert]::ToBase64String((1..32 | ForEach-Object { Get-Random -Maximum 256 }))
```

---

### Security Checklist ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Production

#### üîê SSL/TLS

- [ ] ‡πÉ‡∏ä‡πâ certificate ‡∏à‡∏≤‡∏Å trusted CA (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà self-signed)
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ HSTS (Strict-Transport-Security header)
- [ ] Force HTTPS-only (‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï HTTP)
- [ ] ‡πÉ‡∏ä‡πâ TLS 1.2+ ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (‡∏õ‡∏¥‡∏î TLS 1.0, 1.1)

#### üîí Azure Specific

- [ ] ‡πÄ‡∏õ‡∏¥‡∏î "HTTPS Only" ‡πÉ‡∏ô Container Apps/App Service
- [ ] ‡πÉ‡∏ä‡πâ Managed Identity ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á Azure services
- [ ] ‡πÄ‡∏Å‡πá‡∏ö secrets ‡πÉ‡∏ô Azure Key Vault
- [ ] ‡πÄ‡∏õ‡∏¥‡∏î Azure Monitor ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö logging

#### üíæ Database

- [ ] ‡πÄ‡∏õ‡∏¥‡∏î SSL connection ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö PostgreSQL
- [ ] ‡πÉ‡∏ä‡πâ strong password (‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 16 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)
- [ ] ‡∏à‡∏≥‡∏Å‡∏±‡∏î IP ‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ database
- [ ] ‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (Azure backup)

#### üõ°Ô∏è Application

- [ ] ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó dependencies ‡πÄ‡∏õ‡πá‡∏ô version ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ rate limiting
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ CORS ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°
- [ ] ‡∏´‡πâ‡∏≤‡∏° expose error stack ‡πÉ‡∏ô production
- [ ] ‡πÉ‡∏ä‡πâ environment variables ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö secrets

#### üóÇÔ∏è Version Control

- [ ] ‡∏´‡πâ‡∏≤‡∏° commit `.env` files
- [ ] ‡∏´‡πâ‡∏≤‡∏° commit certificates (_.crt, _.key)
- [ ] ‡∏´‡πâ‡∏≤‡∏° commit passwords ‡∏´‡∏£‡∏∑‡∏≠ API keys
- [ ] Review code ‡∏Å‡πà‡∏≠‡∏ô merge ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

---

### üí∞ ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î Azure Credit ($100)

**Tips ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤:**

1. **‡πÉ‡∏ä‡πâ Scale to Zero services:**

   - Azure Container Apps (‡∏Ñ‡∏¥‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Ñ‡∏ô‡πÉ‡∏ä‡πâ)
   - Azure Functions Consumption Plan

2. **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å tier ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°:**

   - Database: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å Burstable/Basic tier
   - Container Apps: 0.5 vCPU, 1 GB RAM ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö development

3. **‡∏ï‡∏±‡πâ‡∏á Budget Alert:**

   ```bash
   # ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏õ 50%, 75%, 90%
   az consumption budget create \
     --amount 100 \
     --budget-name student-budget \
     --time-grain monthly
   ```

4. **‡∏•‡∏ö resources ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ:**

   ```bash
   # ‡∏•‡∏ö resource group ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
   az group delete --name gap-is-wa-rg --yes
   ```

5. **Monitor ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢:**
   - ‡∏î‡∏π‡∏ó‡∏µ‡πà [Azure Portal ‚Üí Cost Management](https://portal.azure.com/#blade/Microsoft_Azure_CostManagement/Menu/overview)
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å 3-5 ‡∏ß‡∏±‡∏ô

**‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏¢‡∏∏‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:**

- ‡πÉ‡∏ä‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà 24/7: ~2.5 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
- ‡πÉ‡∏ä‡πâ‡πÅ‡∏Ñ‡πà‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô: ~4-5 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
- Scale to zero: ~5-6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô

## üèóÔ∏è ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

```
gap-is-wa/
‚îú‚îÄ‚îÄ prisma/            # Prisma schema ‡πÅ‡∏•‡∏∞ migration files
‚îú‚îÄ‚îÄ src/               # Source code
‚îÇ   ‚îú‚îÄ‚îÄ app/           # Next.js App Router
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api/       # APIs
‚îÇ   ‚îú‚îÄ‚îÄ components/    # React components
‚îÇ   ‚îú‚îÄ‚îÄ controllers/   # Controller classes
‚îÇ   ‚îú‚îÄ‚îÄ data/          # Jsons
‚îÇ   ‚îú‚îÄ‚îÄ mappers/       # Mapper classes
‚îÇ   ‚îú‚îÄ‚îÄ middleware/    # Middleware class
‚îÇ   ‚îú‚îÄ‚îÄ models/        # Mapper classes
‚îÇ   ‚îú‚îÄ‚îÄ repositories/  # Repositorie classes
‚îÇ   ‚îú‚îÄ‚îÄ services/      # Service classes
‚îÇ   ‚îú‚îÄ‚îÄ types/         # Type classes
‚îÇ   ‚îî‚îÄ‚îÄ utils/         # Utils classes
‚îú‚îÄ‚îÄ public/            # Static files
‚îú‚îÄ‚îÄ Dockerfile         # ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á application image
‚îú‚îÄ‚îÄ Dockerfile.migrate # ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö database migration
‚îú‚îÄ‚îÄ docker-compose.yml # ‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤ services
‚îî‚îÄ‚îÄ migrate.sh         # Script ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö migration
```

## üìÑ ‡∏Å‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á

- [Next.js Documentation](https://nextjs.org/docs)
- [Prisma Documentation](https://www.prisma.io/docs)
- [Docker Documentation](https://docs.docker.com/)
- [‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏ó‡∏µ‡πà‡∏î‡∏µ (Good Agricultural Practices: GAP)](https://www.acfs.go.th/)

## üìù License

MIT License

---

‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢ [‡∏ß‡∏∏‡∏í‡∏¥‡∏Å‡∏≤‡∏ô‡∏ï‡πå ‡∏ä‡∏±‡∏¢‡∏™‡∏≤‡∏£](https://github.com/Asteriskzkx) ‡πÅ‡∏•‡∏∞
[‡∏≠‡∏±‡∏Ñ‡∏£‡∏ô‡∏±‡∏ô‡∏ó‡πå ‡πÇ‡∏Ü‡∏©‡∏¥‡∏ï‡πÇ‡∏ä‡∏ï‡∏¥‡∏≠‡∏ô‡∏±‡∏ô‡∏ï‡πå](https://github.com/Nud-Akkaranant)
