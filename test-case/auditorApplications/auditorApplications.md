# แผนการทดสอบการแจ้งกำหนดการวันที่ตรวจประเมิน (Playwright E2E Testing)

**รวม 16 Test Cases**

## 1. การยืนยันตัวตนและการนำทาง

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                         | ขั้นตอนการทดสอบ                                                 | ข้อมูลการทดสอบ      | ค่าคาดหวัง                   |
| ------------- | ---------------------------------------- | --------------------------------------------------------------- | ------------------- | ---------------------------- |
| TC-001        | เข้า /auditor/applications โดยไม่ล็อกอิน | 1. เปิดหน้า /auditor/applications                               | ไม่ล็อกอิน          | ถูก redirect กลับหน้า /      |
| TC-002        | ล็อกอินผู้ตรวจประเมินและเปิดหน้าแอป      | 1. ล็อกอินบทบาทผู้ตรวจประเมิน 2. เปิดหน้า /auditor/applications | บัญชีผู้ตรวจประเมิน | เห็น Step 1 พร้อมตารางสวนยาง |

## 2. Step 1: เลือกสวนยางพารา

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                       | ขั้นตอนการทดสอบ                                               | ข้อมูลการทดสอบ      | ค่าคาดหวัง                                   |
| ------------- | -------------------------------------- | ------------------------------------------------------------- | ------------------- | -------------------------------------------- |
| TC-003        | ตารางสวนยางแสดงคอลัมน์หลัก             | 1. อยู่ที่ Step 1 2. ตรวจสอบหัวตาราง                          | มีข้อมูลสวนยาง      | ตารางมีคอลัมน์หลักและปุ่มดูรายละเอียด        |
| TC-004        | Dropdown cascade ตามจังหวัด/อำเภอ/ตำบล | 1. ตรวจสอบอำเภอ/ตำบลถูก disable 2. เลือกจังหวัด 3. เลือกอำเภอ | เลือกค่าใน dropdown | อำเภอ/ตำบลถูก enable ตามลำดับ                |
| TC-005        | ค้นหาด้วยตัวกรองตำแหน่ง                | 1. เลือกจังหวัด/อำเภอ/ตำบล 2. กดค้นหา                         | เลือกตัวกรองครบ     | มีการเรียก API พร้อม query params ของตัวกรอง |
| TC-006        | ล้างตัวกรองการค้นหา                    | 1. เลือกตัวกรอง 2. กดล้าง                                     | มีค่าตัวกรอง        | ค่าถูกล้างและมีการโหลดข้อมูลใหม่             |
| TC-007        | เลือกแถวสวนยางสำเร็จ                   | 1. คลิกแถวรายการสวนยาง                                        | มีข้อมูลสวนยาง      | แถวถูกไฮไลต์เป็นรายการที่เลือก               |
| TC-008        | กดถัดไปโดยไม่เลือกสวนยาง               | 1. อยู่ที่ Step 1 2. กดถัดไป                                  | ไม่เลือกแถว         | ยังอยู่ Step 1                               |
| TC-009        | ดูรายละเอียดสวนยางผ่านโมดัล            | 1. กดปุ่มดูรายละเอียด 2. ปิดโมดัล                             | มีข้อมูลสวนยาง      | โมดัลเปิด/ปิดได้และมีตารางรายละเอียดการปลูก  |

## 3. Step 2: เลือกประเภทการตรวจประเมิน

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                | ขั้นตอนการทดสอบ                             | ข้อมูลการทดสอบ         | ค่าคาดหวัง     |
| ------------- | ------------------------------- | ------------------------------------------- | ---------------------- | -------------- |
| TC-010        | กดถัดไปโดยไม่เลือกประเภทการตรวจ | 1. ไป Step 2 2. กดถัดไป                     | ไม่เลือกประเภท         | ยังอยู่ Step 2 |
| TC-011        | เลือกประเภทการตรวจและไป Step 3  | 1. เลือกประเภทการตรวจที่เลือกได้ 2. กดถัดไป | เลือกประเภทที่ enabled | ไป Step 3 ได้  |

## 4. Step 3: เลือกผู้ตรวจประเมินเพิ่มเติม

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ             | ขั้นตอนการทดสอบ                   | ข้อมูลการทดสอบ   | ค่าคาดหวัง                            |
| ------------- | ---------------------------- | --------------------------------- | ---------------- | ------------------------------------- |
| TC-012        | เลือกผู้ตรวจประเมินเพิ่มเติม | 1. ไป Step 3 2. เลือกผู้ตรวจ 1 คน | มีรายชื่อผู้ตรวจ | แถวผู้ตรวจถูกไฮไลต์/checkbox ถูกเลือก |
| TC-013        | ค้นหาผู้ตรวจประเมิน          | 1. กรอกคำค้นหา 2. กดค้นหา         | คำค้นหา          | มีการเรียก API พร้อม search param     |

## 5. Step 4-5: วันที่ตรวจและยืนยัน

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ             | ขั้นตอนการทดสอบ                | ข้อมูลการทดสอบ    | ค่าคาดหวัง                                         |
| ------------- | ---------------------------- | ------------------------------ | ----------------- | -------------------------------------------------- |
| TC-014        | กดถัดไปโดยไม่เลือกวันที่ตรวจ | 1. ไป Step 4 2. กดถัดไป        | ไม่เลือกวันที่    | ยังอยู่ Step 4                                     |
| TC-015        | เลือกวันที่ตรวจและไป Step 5  | 1. เลือกวันที่/เวลา 2. กดถัดไป | วันที่/เวลา valid | แสดงหน้า Step 5 พร้อมสรุป RFxxxxx                  |
| TC-016        | ยืนยันและบันทึกกำหนดการ      | 1. อยู่ Step 5 2. กดบันทึก     | ข้อมูลครบ         | เรียก API บันทึกและ redirect ไป /auditor/dashboard |
