# แผนการทดสอบการเข้าสู่ระบบ

## การเลือก Role และ Validation

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ | ขั้นตอนการทดสอบ | ข้อมูลการทดสอบ | ค่าคาดหวัง |
|---|---|---|---|---|
| TC-001 | เลือก Role เกษตรกร | 1. เปิดหน้าเข้าสู่ระบบ<br>2. คลิกเลือก Role: เกษตรกร | เลือก Role: เกษตรกร | ปุ่ม "เกษตรกร" ถูกเลือก (active state) และแสดงลิงก์สมัครสมาชิก |
| TC-002 | เลือก Role ผู้ตรวจประเมิน | 1. เปิดหน้าเข้าสู่ระบบ<br>2. คลิกเลือก Role: ผู้ตรวจประเมิน | เลือก Role: ผู้ตรวจประเมิน | ปุ่ม "ผู้ตรวจประเมิน" ถูกเลือก และซ่อนลิงก์สมัครสมาชิก |
| TC-003 | เลือก Role คณะกรรมการ | 1. เปิดหน้าเข้าสู่ระบบ<br>2. คลิกเลือก Role: คณะกรรมการ | เลือก Role: คณะกรรมการ | ปุ่ม "คณะกรรมการ" ถูกเลือก และซ่อนลิงก์สมัครสมาชิก |
| TC-004 | เลือก Role ผู้ดูแลระบบ | 1. เปิดหน้าเข้าสู่ระบบ<br>2. คลิกเลือก Role: ผู้ดูแลระบบ | เลือก Role: ผู้ดูแลระบบ | ปุ่ม "ผู้ดูแลระบบ" ถูกเลือก และซ่อนลิงก์สมัครสมาชิก |
| TC-005 | ไม่กรอกอีเมล | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role<br>3. ไม่กรอกอีเมล<br>4. กรอกรหัสผ่าน<br>5. กดปุ่มเข้าสู่ระบบ | ไม่กรอกอีเมล<br>กรอกรหัสผ่าน: password123 | แจ้งเตือน "กรุณากรอกอีเมล" |
| TC-006 | กรอกอีเมลผิดรูปแบบ | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role<br>3. กรอกอีเมล: test@invalid<br>4. กรอกรหัสผ่าน<br>5. กดปุ่มเข้าสู่ระบบ | กรอกอีเมล: test@invalid<br>กรอกรหัสผ่าน: password123 | แจ้งเตือน "รูปแบบอีเมลไม่ถูกต้อง" |
| TC-007 | กรอกอีเมลไม่มี @ | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role<br>3. กรอกอีเมล: testexample.com<br>4. กรอกรหัสผ่าน<br>5. กดปุ่มเข้าสู่ระบบ | กรอกอีเมล: testexample.com<br>กรอกรหัสผ่าน: password123 | แจ้งเตือน "รูปแบบอีเมลไม่ถูกต้อง" |
| TC-008 | ไม่กรอกรหัสผ่าน | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role<br>3. กรอกอีเมล<br>4. ไม่กรอกรหัสผ่าน<br>5. กดปุ่มเข้าสู่ระบบ | กรอกอีเมล: test@example.com<br>ไม่กรอกรหัสผ่าน | แจ้งเตือน "กรุณากรอกรหัสผ่าน" |
| TC-009 | กรอกรหัสผ่านน้อยกว่า 6 ตัวอักษร | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role<br>3. กรอกอีเมล<br>4. กรอกรหัสผ่าน: 12345<br>5. กดปุ่มเข้าสู่ระบบ | กรอกอีเมล: test@example.com<br>กรอกรหัสผ่าน: 12345 | แจ้งเตือน "รหัสผ่านต้องมีอย่างน้อย 6 ตัวอักษร" |

## การเข้าสู่ระบบสำเร็จ

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ | ขั้นตอนการทดสอบ | ข้อมูลการทดสอบ | ค่าคาดหวัง |
|---|---|---|---|---|
| TC-010 | Login เกษตรกรสำเร็จ | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role: เกษตรกร<br>3. กรอกอีเมล: farmer@example.com<br>4. กรอกรหัสผ่าน: password123<br>5. กดปุ่มเข้าสู่ระบบ | Role: เกษตรกร<br>อีเมล: farmer@example.com (role = FARMER)<br>รหัสผ่าน: password123 | เข้าสู่ระบบสำเร็จ และไปหน้า /farmer/dashboard |
| TC-011 | Login ผู้ตรวจประเมินสำเร็จ | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role: ผู้ตรวจประเมิน<br>3. กรอกอีเมล: auditor@example.com<br>4. กรอกรหัสผ่าน: password123<br>5. กดปุ่มเข้าสู่ระบบ | Role: ผู้ตรวจประเมิน<br>อีเมล: auditor@example.com (role = AUDITOR)<br>รหัสผ่าน: password123 | เข้าสู่ระบบสำเร็จ และไปหน้า /auditor/dashboard |
| TC-012 | Login คณะกรรมการสำเร็จ | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role: คณะกรรมการ<br>3. กรอกอีเมล: committee@example.com<br>4. กรอกรหัสผ่าน: password123<br>5. กดปุ่มเข้าสู่ระบบ | Role: คณะกรรมการ<br>อีเมล: committee@example.com (role = COMMITTEE)<br>รหัสผ่าน: password123 | เข้าสู่ระบบสำเร็จ และไปหน้า /committee/dashboard |
| TC-013 | Login ผู้ดูแลระบบสำเร็จ | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role: ผู้ดูแลระบบ<br>3. กรอกอีเมล: admin@example.com<br>4. กรอกรหัสผ่าน: password123<br>5. กดปุ่มเข้าสู่ระบบ | Role: ผู้ดูแลระบบ<br>อีเมล: admin@example.com (role = ADMIN)<br>รหัสผ่าน: password123 | เข้าสู่ระบบสำเร็จ และไปหน้า /admin/dashboard |

## การเข้าสู่ระบบล้มเหลว

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ | ขั้นตอนการทดสอบ | ข้อมูลการทดสอบ | ค่าคาดหวัง |
|---|---|---|---|---|
| TC-014 | Login ด้วยอีเมลที่ไม่มีในระบบ | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role<br>3. กรอกอีเมล: notexist@example.com<br>4. กรอกรหัสผ่าน: password123<br>5. กดปุ่มเข้าสู่ระบบ | อีเมล: notexist@example.com<br>รหัสผ่าน: password123 | แจ้งเตือน "อีเมลหรือรหัสผ่านไม่ถูกต้อง" หรือ error message จาก API |
| TC-015 | Login ด้วยรหัสผ่านผิด | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role: เกษตรกร<br>3. กรอกอีเมล: farmer@example.com<br>4. กรอกรหัสผ่าน: wrongpassword<br>5. กดปุ่มเข้าสู่ระบบ | อีเมล: farmer@example.com<br>รหัสผ่าน: wrongpassword (ผิด) | แจ้งเตือน "อีเมลหรือรหัสผ่านไม่ถูกต้อง" หรือ error message จาก API |
| TC-016 | Login ด้วย Role ที่ไม่ตรงกัน (เกษตรกร) | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role: เกษตรกร<br>3. กรอกอีเมล: auditor@example.com<br>4. กรอกรหัสผ่าน: password123<br>5. กดปุ่มเข้าสู่ระบบ | Role เลือก: เกษตรกร<br>อีเมล: auditor@example.com (role = AUDITOR)<br>รหัสผ่าน: password123 | แจ้งเตือน "คุณไม่มีสิทธิ์เข้าใช้งานในฐานะเกษตรกร" |
| TC-017 | Login ด้วย Role ที่ไม่ตรงกัน (ผู้ตรวจประเมิน) | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role: ผู้ตรวจประเมิน<br>3. กรอกอีเมล: farmer@example.com<br>4. กรอกรหัสผ่าน: password123<br>5. กดปุ่มเข้าสู่ระบบ | Role เลือก: ผู้ตรวจประเมิน<br>อีเมล: farmer@example.com (role = FARMER)<br>รหัสผ่าน: password123 | แจ้งเตือน "คุณไม่มีสิทธิ์เข้าใช้งานในฐานะผู้ตรวจประเมิน" |
| TC-018 | Login ด้วย Role ที่ไม่ตรงกัน (คณะกรรมการ) | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role: คณะกรรมการ<br>3. กรอกอีเมล: admin@example.com<br>4. กรอกรหัสผ่าน: password123<br>5. กดปุ่มเข้าสู่ระบบ | Role เลือก: คณะกรรมการ<br>อีเมล: admin@example.com (role = ADMIN)<br>รหัสผ่าน: password123 | แจ้งเตือน "คุณไม่มีสิทธิ์เข้าใช้งานในฐานะคณะกรรมการ" |
| TC-019 | Login ด้วย Role ที่ไม่ตรงกัน (ผู้ดูแลระบบ) | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role: ผู้ดูแลระบบ<br>3. กรอกอีเมล: committee@example.com<br>4. กรอกรหัสผ่าน: password123<br>5. กดปุ่มเข้าสู่ระบบ | Role เลือก: ผู้ดูแลระบบ<br>อีเมล: committee@example.com (role = COMMITTEE)<br>รหัสผ่าน: password123 | แจ้งเตือน "คุณไม่มีสิทธิ์เข้าใช้งานในฐานะผู้ดูแลระบบ" |

## UI/UX และ Navigation

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ | ขั้นตอนการทดสอบ | ข้อมูลการทดสอบ | ค่าคาดหวัง |
|---|---|---|---|---|
| TC-020 | ทดสอบแสดง/ซ่อนรหัสผ่าน | 1. เปิดหน้าเข้าสู่ระบบ<br>2. กรอกรหัสผ่าน<br>3. คลิกไอคอนตา | กรอกรหัสผ่าน: password123 | รหัสผ่านแสดงเป็นข้อความ/ซ่อนเป็น dots สลับกันเมื่อคลิก |
| TC-021 | คลิกลิงก์สมัครสมาชิกใหม่ (เกษตรกร) | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role: เกษตรกร<br>3. คลิกลิงก์ "สมัครสมาชิกใหม่" | Role: เกษตรกร | ไปหน้า /register |
| TC-022 | ซ่อนลิงก์สมัครสมาชิก (ผู้ตรวจประเมิน) | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role: ผู้ตรวจประเมิน<br>3. ตรวจสอบการแสดงผล | Role: ผู้ตรวจประเมิน | ไม่แสดงลิงก์ "สมัครสมาชิกใหม่" |
| TC-023 | ซ่อนลิงก์สมัครสมาชิก (คณะกรรมการ) | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role: คณะกรรมการ<br>3. ตรวจสอบการแสดงผล | Role: คณะกรรมการ | ไม่แสดงลิงก์ "สมัครสมาชิกใหม่" |
| TC-024 | ซ่อนลิงก์สมัครสมาชิก (ผู้ดูแลระบบ) | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role: ผู้ดูแลระบบ<br>3. ตรวจสอบการแสดงผล | Role: ผู้ดูแลระบบ | ไม่แสดงลิงก์ "สมัครสมาชิกใหม่" |
| TC-025 | ตรวจสอบ loading state | 1. เปิดหน้าเข้าสู่ระบบ<br>2. กรอกข้อมูลถูกต้อง<br>3. กดปุ่มเข้าสู่ระบบ<br>4. สังเกต loading state | กรอกข้อมูลถูกต้อง | ปุ่มแสดง loading icon ขณะรอ response และปิดการใช้งานปุ่ม |
| TC-026 | แสดง error message ที่ด้านบน form | 1. เปิดหน้าเข้าสู่ระบบ<br>2. กรอกข้อมูลผิดพลาด<br>3. กดปุ่มเข้าสู่ระบบ | กรอกอีเมล/รหัสผ่านผิด | แสดง error alert ที่ด้านบนของ form |
| TC-027 | แสดง logo | 1. เปิดหน้าเข้าสู่ระบบ<br>2. ตรวจสอบการแสดงผล | ไม่มี | แสดง logo การยางแห่งประเทศไทย |
| TC-028 | แสดงรูปภาพด้านซ้าย (Desktop) | 1. เปิดหน้าเข้าสู่ระบบบน desktop<br>2. ตรวจสอบการแสดงผล | หน้าจอ desktop | แสดงรูปภาพกรีดยาง (rubber-tapping.jpg) ด้านซ้าย |
| TC-029 | ซ่อนรูปภาพด้านซ้าย (Mobile) | 1. เปิดหน้าเข้าสู่ระบบบน mobile<br>2. ตรวจสอบการแสดงผล | หน้าจอ mobile | ซ่อนรูปภาพด้านซ้าย แสดงเฉพาะ form |
| TC-030 | ตรวจสอบ responsive design | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เปลี่ยนขนาดหน้าจอ desktop/tablet/mobile | เปลี่ยนขนาดหน้าจอ | แสดงผลถูกต้องทุกขนาดหน้าจอ |
| TC-031 | ตรวจสอบ autocomplete | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เริ่มกรอกอีเมล<br>3. ตรวจสอบ autocomplete | กรอกอีเมล | ช่องอีเมลมี autocomplete="email" |
| TC-032 | แสดงข้อความ copyright | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลื่อนลงมาที่ footer | ไม่มี | แสดงข้อความ "© 2025 การยางแห่งประเทศไทย. สงวนลิขสิทธิ์." |

## Security และ Session

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ | ขั้นตอนการทดสอบ | ข้อมูลการทดสอบ | ค่าคาดหวัง |
|---|---|---|---|---|
| TC-033 | ตรวจสอบ session หลัง login สำเร็จ | 1. Login สำเร็จ<br>2. ตรวจสอบ session ด้วย /api/auth/session | Login สำเร็จ | Session มีข้อมูล user และ role ที่ถูกต้อง |
| TC-034 | ตรวจสอบการ signOut เมื่อ role ไม่ตรงกัน | 1. Login ด้วย role ที่ไม่ตรงกัน<br>2. ตรวจสอบ session | Login ด้วย role ผิด | ระบบทำ signOut อัตโนมัติและแจ้ง error |
| TC-035 | ตรวจสอบ redirect หลัง login | 1. Login สำเร็จ<br>2. ตรวจสอบ URL | Login ในฐานะ FARMER | Redirect ไป /farmer/dashboard |
| TC-036 | ตรวจสอบ password ไม่แสดงในเครื่องมือ developer | 1. เปิดหน้าเข้าสู่ระบบ<br>2. กรอกรหัสผ่าน<br>3. เปิด Developer Tools ตรวจสอบ | กรอกรหัสผ่าน: password123 | รหัสผ่านไม่แสดงใน Network tab หรือ Console (ถูก mask) |

## Edge Cases และ Error Handling

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ | ขั้นตอนการทดสอบ | ข้อมูลการทดสอบ | ค่าคาดหวัง |
|---|---|---|---|---|
| TC-037 | Login ขณะ API ไม่ทำงาน | 1. ปิด API server หรือ network<br>2. พยายาม login<br>3. กดปุ่มเข้าสู่ระบบ | Network error | แจ้งเตือน error message และไม่ทำให้ระบบหยุดทำงาน |
| TC-038 | กรอกอีเมลและรหัสผ่านที่มี whitespace | 1. เปิดหน้าเข้าสู่ระบบ<br>2. กรอกอีเมล: " test@example.com "<br>3. กรอกรหัสผ่าน: " password123 "<br>4. กดปุ่มเข้าสู่ระบบ | อีเมลและรหัสผ่านมี whitespace | ระบบควร trim whitespace หรือแจ้งเตือน |
| TC-039 | กด Enter เพื่อ submit form | 1. เปิดหน้าเข้าสู่ระบบ<br>2. กรอกอีเมลและรหัสผ่าน<br>3. กด Enter | กดปุ่ม Enter | Form ถูก submit เหมือนกดปุ่ม "เข้าสู่ระบบ" |
| TC-040 | เปลี่ยน role หลังกรอกข้อมูล | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role: เกษตรกร<br>3. กรอกอีเมลและรหัสผ่าน<br>4. เปลี่ยน Role: ผู้ตรวจประเมิน<br>5. กดปุ่มเข้าสู่ระบบ | Role เปลี่ยน | ใช้ role ที่เลือกล่าสุดในการ login |
| TC-041 | Login หลาย session พร้อมกัน | 1. Login บน browser A<br>2. Login บน browser B ด้วย user เดียวกัน | Login พร้อมกัน 2 session | ควรอนุญาตหรือควบคุมตาม business requirement |
| TC-042 | ตรวจสอบ validation ทันทีเมื่อมี error แล้ว | 1. กรอกอีเมลผิดและกดเข้าสู่ระบบ<br>2. แสดง error<br>3. แก้ไขอีเมลให้ถูกต้อง | แก้ไขข้อมูลที่ผิด | Error message หายไปทันทีเมื่อแก้ไข |
| TC-043 | Copy-Paste ข้อมูลเข้าช่องอีเมลและรหัสผ่าน | 1. เปิดหน้าเข้าสู่ระบบ<br>2. Copy-Paste อีเมล<br>3. Copy-Paste รหัสผ่าน<br>4. กดปุ่มเข้าสู่ระบบ | Copy-Paste ข้อมูล | ระบบยอมรับและทำงานปกติ |

## Integration Tests

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ | ขั้นตอนการทดสอบ | ข้อมูลการทดสอบ | ค่าคาดหวัง |
|---|---|---|---|---|
| TC-044 | End-to-end login และเข้าถึง dashboard | 1. เปิดหน้าเข้าสู่ระบบ<br>2. เลือก Role: เกษตรกร<br>3. กรอกอีเมลและรหัสผ่านถูกต้อง<br>4. กดปุ่มเข้าสู่ระบบ<br>5. ตรวจสอบหน้า dashboard | Login สำเร็จ | เข้าสู่ระบบสำเร็จและแสดงหน้า dashboard ตาม role |
| TC-045 | Login แล้ว refresh page | 1. Login สำเร็จ<br>2. อยู่ที่หน้า dashboard<br>3. Refresh page | Refresh หน้า | Session ยังคงอยู่และแสดงหน้า dashboard |
| TC-046 | Login แล้ว back browser | 1. Login สำเร็จ<br>2. อยู่ที่หน้า dashboard<br>3. กดปุ่ม back browser | กด back | ไม่กลับไปหน้า login (ถ้า session ยังอยู่) |
| TC-047 | เข้าถึงหน้า protected routes โดยไม่ login | 1. ไม่ login<br>2. พยายามเข้าถึง /farmer/dashboard โดยตรง | ไม่มี session | Redirect ไปหน้า login หรือแสดง unauthorized |
