# แผนการทดสอบการสรุปผลการตรวจประเมินสวนยางพารา

## Step 1: รายการตรวจประเมิน (Reports List)

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                                 | ขั้นตอนการทดสอบ                                                                                             | ข้อมูลการทดสอบ                                               | ค่าคาดหวัง                                                                                                                    |
| ------------- | ------------------------------------------------ | ----------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------- |
| TC-001        | Loading state เมื่อโหลดรายการ                    | 1. Login เป็น Auditor<br>2. เข้าหน้า "สรุปผลการตรวจประเมิน"                                                 | มี network latency / โหลดข้อมูลจาก API                       | ตารางแสดงสถานะกำลังโหลด (loading) และเมื่อโหลดเสร็จจะแสดงข้อมูล                                                               |
| TC-002        | แสดงตาราง 6 คอลัมน์ครบถ้วน                       | 1. เข้าหน้า "สรุปผลการตรวจประเมิน"<br>2. ตรวจสอบหัวคอลัมน์ในตาราง                                           | ไม่มี                                                        | แสดงหัวคอลัมน์: รหัสการตรวจ, เกษตรกร, สถานที่, วันที่ตรวจ, สถานะ, จัดการ                                                      |
| TC-003        | แสดงรหัสการตรวจ                                  | 1. เข้าหน้า "สรุปผลการตรวจประเมิน"<br>2. ตรวจสอบคอลัมน์ "รหัสการตรวจ"                                       | inspectionNo มีค่า (เช่น "INS-2025-001")                     | แสดงรหัสการตรวจ "INS-2025-001" ในคอลัมน์แรก                                                                                   |
| TC-004        | แสดงชื่อเกษตรกร                                  | 1. เข้าหน้า "สรุปผลการตรวจประเมิน"<br>2. ตรวจสอบคอลัมน์ "เกษตรกร"                                           | rubberFarm.farmer มี namePrefix/firstName/lastName           | แสดง "คำนำหน้า + ชื่อ + นามสกุล"; หากไม่มีข้อมูลให้แสดง "ไม่มีข้อมูล"                                                         |
| TC-005        | แสดง "สถานที่" จากข้อมูลสวนยาง                   | 1. เข้าหน้า "สรุปผลการตรวจประเมิน"<br>2. ตรวจสอบคอลัมน์ "สถานที่"                                           | rubberFarm มี villageName/subDistrict/district/province      | คอลัมน์ "สถานที่" แสดงข้อความที่ join ด้วยช่องว่าง (villageName, subDistrict, district, province); ถ้าไม่มีทั้งหมดให้แสดง "-" |
| TC-006        | แสดงวันที่ตรวจรูปแบบไทย                          | 1. เข้าหน้า "สรุปผลการตรวจประเมิน"<br>2. ตรวจสอบคอลัมน์ "วันที่ตรวจ"                                        | inspectionDateAndTime มีค่า (เช่น 2025-12-01T10:00:00Z)      | แสดงวันที่ด้วยรูปแบบภาษาไทย (th-TH) เช่น "1 ธ.ค. 2568"                                                                        |
| TC-007        | แสดง StatusBadge สถานะผลการตรวจ                  | 1. เข้าหน้า "สรุปผลการตรวจประเมิน"<br>2. ตรวจสอบคอลัมน์ "สถานะ"                                             | inspectionResult = "รอผลการตรวจประเมิน" / "ผ่าน" / "ไม่ผ่าน" | แสดง StatusBadge ตามค่า inspectionResult พร้อมสีที่เหมาะสม                                                                    |
| TC-008        | Tab "รอสรุปผล" (pending) เป็น default            | 1. เข้าหน้า "สรุปผลการตรวจประเมิน"                                                                          | defaultTab = "pending"                                       | Tab "รอสรุปผล" ถูกเลือกโดยอัตโนมัติและแสดงรายการที่ inspectionResult = "รอผลการตรวจประเมิน"                                   |
| TC-009        | Tab "เสร็จสิ้น" (completed) แสดงผลที่สมบูรณ์     | 1. เข้าหน้า "สรุปผลการตรวจประเมิน"<br>2. คลิก Tab "เสร็จสิ้น"                                               | มีรายการที่ inspectionResult = "ผ่าน" หรือ "ไม่ผ่าน"         | แสดงเฉพาะรายการที่มีผลการตรวจเป็น "ผ่าน" หรือ "ไม่ผ่าน"                                                                       |
| TC-010        | เปลี่ยน Tab ระหว่าง pending และ completed        | 1. เข้าหน้า "สรุปผลการตรวจประเมิน" (Tab pending)<br>2. คลิก Tab "เสร็จสิ้น"<br>3. คลิกกลับไป Tab "รอสรุปผล" | มีข้อมูลทั้งสอง Tab                                          | ตารางโหลดข้อมูลใหม่ตาม Tab ที่เลือก และ pagination reset เป็นหน้าที่ 1                                                        |
| TC-011        | ปุ่ม "สรุปผล" (success) สำหรับรายการรอสรุป       | 1. เข้าหน้า "สรุปผลการตรวจประเมิน"<br>2. Tab "รอสรุปผล"<br>3. ตรวจสอบคอลัมน์ "จัดการ"                       | inspectionResult = "รอผลการตรวจประเมิน"                      | แสดงปุ่มสีเขียว icon "pi-check-circle" สำหรับสรุปผล                                                                           |
| TC-012        | ปุ่ม "ดูรายละเอียด" (info) สำหรับรายการเสร็จสิ้น | 1. เข้าหน้า "สรุปผลการตรวจประเมิน"<br>2. Tab "เสร็จสิ้น"<br>3. ตรวจสอบคอลัมน์ "จัดการ"                      | inspectionResult = "ผ่าน" หรือ "ไม่ผ่าน"                     | แสดงปุ่มสีน้ำเงิน icon "pi-eye" สำหรับดูรายละเอียด                                                                            |
| TC-013        | คลิกปุ่มจัดการเพื่อเปิดหน้าสรุปผล                | 1. Tab "รอสรุปผล"<br>2. คลิกปุ่ม "สรุปผล" ของรายการใดรายการหนึ่ง                                            | inspectionId = 123                                           | Navigate ไปหน้า "/auditor/inspection-summary/123"                                                                             |
| TC-014        | เลือกจังหวัดแล้วอำเภอ/ตำบลถูก enable             | 1. เข้าหน้า "สรุปผลการตรวจประเมิน"<br>2. เลือก "จังหวัด"<br>3. ตรวจสอบ dropdown "อำเภอ/เขต" และ "ตำบล/แขวง" | เลือกจังหวัดที่มีอำเภอ                                       | "อำเภอ/เขต" ถูก enable และมีตัวเลือก; "ตำบล/แขวง" ยัง disabled จนกว่าจะเลือกอำเภอ                                             |
| TC-015        | เลือกอำเภอแล้วตำบลถูก enable                     | 1. เลือก "จังหวัด"<br>2. เลือก "อำเภอ/เขต"<br>3. ตรวจสอบ dropdown "ตำบล/แขวง"                               | เลือกอำเภอที่มีตำบล                                          | "ตำบล/แขวง" ถูก enable และมีตัวเลือกตามอำเภอที่เลือก                                                                          |
| TC-016        | กรองข้อมูลด้วยจังหวัด                            | 1. เลือก "จังหวัด" = "กรุงเทพมหานคร"<br>2. คลิก "ค้นหา"                                                     | มีรายการในกรุงเทพฯ                                           | แสดงเฉพาะรายการที่ province = "กรุงเทพมหานคร"                                                                                 |
| TC-017        | กรองข้อมูลด้วยจังหวัด + อำเภอ                    | 1. เลือก "จังหวัด" + "อำเภอ/เขต"<br>2. คลิก "ค้นหา"                                                         | มีรายการในพื้นที่ที่เลือก                                    | แสดงเฉพาะรายการที่ตรงกับ province และ district                                                                                |
| TC-018        | กรองข้อมูลครบทั้ง 3 ระดับ (จังหวัด/อำเภอ/ตำบล)   | 1. เลือก "จังหวัด" + "อำเภอ/เขต" + "ตำบล/แขวง"<br>2. คลิก "ค้นหา"                                           | มีรายการในพื้นที่ที่เลือกครบ 3 ระดับ                         | แสดงเฉพาะรายการที่ตรงกับ province, district, และ subDistrict                                                                  |
| TC-019        | ปุ่ม "ล้างค่า" filters                           | 1. เลือกตัวกรองหลายตัว<br>2. คลิก "ล้างค่า"                                                                 | มี filters ที่เลือกไว้                                       | ล้างตัวกรองทั้งหมด และโหลดข้อมูลทั้งหมดใหม่                                                                                   |
| TC-020        | ค้นหาด้วยคำค่นหา (searchTerm)                    | 1. พิมพ์คำค้นหาในช่อง search<br>2. กดค้นหา                                                                  | searchTerm = "INS-2025"                                      | แสดงรายการที่ตรงกับคำค้นหา (inspectionNo, farmer name, location)                                                              |
| TC-021        | Pagination - เปลี่ยนหน้า                         | 1. เข้าหน้า "สรุปผลการตรวจประเมิน"<br>2. เปลี่ยนไปหน้าถัดไปใน paginator                                     | มีข้อมูลมากกว่า 10 รายการ                                    | ตารางแสดงรายการตามหน้าที่เลือก และจำนวนรวม (totalRecords) ถูกต้อง                                                             |
| TC-022        | Pagination - เปลี่ยนจำนวนรายการต่อหน้า           | 1. เข้าหน้า "สรุปผลการตรวจประเมิน"<br>2. เปลี่ยน rows ต่อหน้าเป็น 25 หรือ 50                                | มีข้อมูลอย่างน้อย 25 รายการ                                  | ตารางแสดงจำนวนรายการตามที่เลือก และ paginator อัปเดตถูกต้อง                                                                   |
| TC-023        | Multi-sort ในตาราง                               | 1. คลิกหัวคอลัมน์ "รหัสการตรวจ"<br>2. เพิ่ม sort คอลัมน์ "วันที่ตรวจ" (Multi-sort)                          | มีข้อมูลอย่างน้อย 2 ค่าแตกต่างกันในคอลัมน์ที่ sort           | ตารางเรียงลำดับตามเงื่อนไข multi-sort และส่งพารามิเตอร์ sort ไปที่ backend                                                    |
| TC-024        | Sort คอลัมน์ "รหัสการตรวจ" ascending             | 1. คลิกหัวคอลัมน์ "รหัสการตรวจ" 1 ครั้ง                                                                     | มีรายการหลายรายการ                                           | ตารางเรียงลำดับตาม inspectionNo จากน้อยไปมาก                                                                                  |
| TC-025        | Sort คอลัมน์ "วันที่ตรวจ" descending             | 1. คลิกหัวคอลัมน์ "วันที่ตรวจ" 2 ครั้ง                                                                      | มีรายการหลายวันที่                                           | ตารางเรียงลำดับตาม inspectionDateAndTime จากมากไปน้อย (ล่าสุดก่อน)                                                            |
| TC-026        | Empty message ใน Tab "รอสรุปผล"                  | 1. Tab "รอสรุปผล"<br>2. ไม่มีรายการรอสรุป                                                                   | ไม่มีรายการที่ inspectionResult = "รอผลการตรวจประเมิน"       | แสดงข้อความ "ไม่พบรายการตรวจประเมินที่รอสรุปผล"                                                                               |
| TC-027        | Empty message ใน Tab "เสร็จสิ้น"                 | 1. Tab "เสร็จสิ้น"<br>2. ไม่มีรายการเสร็จสิ้น                                                               | ไม่มีรายการที่ inspectionResult = "ผ่าน" หรือ "ไม่ผ่าน"      | แสดงข้อความ "ไม่พบรายการตรวจประเมินที่เสร็จสิ้น"                                                                              |

## Step 2: หน้าสรุปผลการตรวจประเมิน (Inspection Summary)

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                                       | ขั้นตอนการทดสอบ                                                                                | ข้อมูลการทดสอบ                                                                | ค่าคาดหวัง                                                                                  |
| ------------- | ------------------------------------------------------ | ---------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------- |
| TC-028        | โหลดข้อมูลสรุปผลการตรวจ                                | 1. จาก Step 1 คลิกดูรายการ inspectionId = 123<br>2. เข้าหน้าสรุปผล                             | inspectionId = 123 มีข้อมูล                                                   | แสดง loading แล้วโหลดข้อมูล inspection และ items ครบถ้วน                                    |
| TC-029        | แสดงข้อมูลหัวข้อการตรวจ                                | 1. เข้าหน้าสรุปผล<br>2. ตรวจสอบส่วน InspectionInfo                                             | inspection มี inspectionNo, inspectionDateAndTime, inspectionType, rubberFarm | แสดงข้อมูล: รหัสการตรวจ, วันที่ตรวจ, ประเภทการตรวจ, ชื่อเกษตรกร, สถานที่                    |
| TC-030        | แสดงตารางรายการตรวจประเมิน (Inspection Items)          | 1. เข้าหน้าสรุปผล<br>2. ตรวจสอบตารางรายการ                                                     | inspection.items มีข้อมูลอย่างน้อย 1 item                                     | แสดงตารางที่มีคอลัมน์: ลำดับ, รายการตรวจประเมิน, ผลการประเมิน, รายละเอียด                   |
| TC-031        | แสดงลำดับรายการตรวจ (inspectionItemNo)                 | 1. เข้าหน้าสรุปผล<br>2. ตรวจสอบคอลัมน์ "ลำดับ"                                                 | inspectionItemNo = 1, 2, 3, ...                                               | แสดงเลขลำดับ inspectionItemNo ของแต่ละ item                                                 |
| TC-032        | แสดงชื่อรายการตรวจ (itemName)                          | 1. เข้าหน้าสรุปผล<br>2. ตรวจสอบคอลัมน์ "รายการตรวจประเมิน"                                     | inspectionItemMaster.itemName = "น้ำ", "พื้นที่ปลูก", ฯลฯ                     | แสดงชื่อรายการจาก inspectionItemMaster หรือ "รายการที่ {itemNo}" ถ้าไม่มี                   |
| TC-033        | แสดงผลการประเมินรายการ (StatusBadge)                   | 1. เข้าหน้าสรุปผล<br>2. ตรวจสอบคอลัมน์ "ผลการประเมิน"                                          | inspectionItemResult = "ผ่าน" / "ไม่ผ่าน" / "รอผลการประเมิน"                  | แสดง StatusBadge พร้อมสีที่เหมาะสม                                                          |
| TC-034        | ปุ่มดูรายละเอียดรายการตรวจ                             | 1. เข้าหน้าสรุปผล<br>2. คลิกปุ่ม "ดูรายละเอียด" (icon eye) ของรายการใดรายการหนึ่ง              | inspectionItemId = 456                                                        | Navigate ไปหน้า "/auditor/inspection-detail/123/456"                                        |
| TC-035        | คำนวณสรุปข้อกำหนดหลัก (Main Requirements)              | 1. เข้าหน้าสรุปผล<br>2. ตรวจสอบส่วนสรุปข้อกำหนดหลัก                                            | มี requirements ที่ requirementLevel = "ข้อกำหนดหลัก"                         | แสดงจำนวนรวม, ผ่าน, ไม่ผ่าน ของข้อกำหนดหลักถูกต้อง                                          |
| TC-036        | คำนวณสรุปข้อกำหนดรอง (Secondary Requirements)          | 1. เข้าหน้าสรุปผล<br>2. ตรวจสอบส่วนสรุปข้อกำหนดรอง                                             | มี requirements ที่ requirementLevel = "ข้อกำหนดรอง"                          | แสดงจำนวนรวม, ผ่าน, ไม่ผ่าน, และเปอร์เซ็นต์ผ่าน ของข้อกำหนดรองถูกต้อง                       |
| TC-037        | คำนวณผลการประเมินรวม - ผ่าน                            | 1. เข้าหน้าสรุปผล (รายการรอสรุป)<br>2. ตรวจสอบผลการประเมินที่คำนวณได้                          | ข้อกำหนดหลัก 100% ผ่าน และข้อกำหนดรอง >= 60% ผ่าน                             | แสดงผลการประเมินเป็น "ผ่าน" และ selectedResult = "ผ่าน"                                     |
| TC-038        | คำนวณผลการประเมินรวม - ไม่ผ่าน (หลักไม่ผ่าน)           | 1. เข้าหน้าสรุปผล (รายการรอสรุป)<br>2. ตรวจสอบผลการประเมินที่คำนวณได้                          | มีข้อกำหนดหลักไม่ผ่านอย่างน้อย 1 ข้อ                                          | แสดงผลการประเมินเป็น "ไม่ผ่าน" และ selectedResult = "ไม่ผ่าน"                               |
| TC-039        | คำนวณผลการประเมินรวม - ไม่ผ่าน (รองต่ำกว่า 60%)        | 1. เข้าหน้าสรุปผล (รายการรอสรุป)<br>2. ตรวจสอบผลการประเมินที่คำนวณได้                          | ข้อกำหนดหลักผ่าน 100% แต่ข้อกำหนดรอง < 60%                                    | แสดงผลการประเมินเป็น "ไม่ผ่าน" และ selectedResult = "ไม่ผ่าน"                               |
| TC-040        | แสดงปุ่ม "บันทึกผลการประเมิน" สำหรับรายการรอสรุป       | 1. เข้าหน้าสรุปผล (รายการรอสรุป)<br>2. ตรวจสอบส่วนท้าย                                         | inspectionResult = "รอผลการตรวจประเมิน"                                       | แสดงปุ่ม "บันทึกผลการประเมิน" พร้อม dropdown เลือกผล และปุ่มยืนยัน                          |
| TC-041        | ซ่อนปุ่ม "บันทึกผลการประเมิน" สำหรับรายการเสร็จสิ้น    | 1. เข้าหน้าสรุปผล (รายการเสร็จสิ้น)<br>2. ตรวจสอบส่วนท้าย                                      | inspectionResult = "ผ่าน" หรือ "ไม่ผ่าน"                                      | ไม่แสดงปุ่ม "บันทึกผลการประเมิน" และแสดงเฉพาะผลที่บันทึกไว้แล้ว                             |
| TC-042        | เลือกผลการประเมินจาก dropdown                          | 1. เข้าหน้าสรุปผล (รายการรอสรุป)<br>2. คลิก dropdown เลือกผล<br>3. เลือก "ผ่าน" หรือ "ไม่ผ่าน" | มี dropdown ตัวเลือกผล                                                        | selectedResult เปลี่ยนตามที่เลือก                                                           |
| TC-043        | บันทึกผลการประเมิน - สำเร็จ                            | 1. เข้าหน้าสรุปผล (รายการรอสรุป)<br>2. เลือกผล = "ผ่าน"<br>3. คลิก "ยืนยันผลการประเมิน"        | selectedResult = "ผ่าน", version = 1                                          | API PUT /api/v1/inspections/{id}/result สำเร็จ, แสดง toast success, navigate กลับหน้ารายการ |
| TC-044        | บันทึกผลการประเมิน - Optimistic locking conflict (409) | 1. เข้าหน้าสรุปผล<br>2. เลือกผลและคลิก "ยืนยัน"<br>3. Server ตอบ 409                           | version ใน request ไม่ตรงกับ DB                                               | แสดง toast error "ข้อมูลถูกแก้ไขโดยผู้อื่น กรุณาโหลดหน้าใหม่"                               |
| TC-045        | บันทึกผลการประเมิน - Error อื่นๆ                       | 1. เข้าหน้าสรุปผล<br>2. คลิก "ยืนยันผลการประเมิน"<br>3. API error (4xx/5xx)                    | API response error                                                            | แสดง toast error "ไม่สามารถบันทึกผลการประเมินได้"                                           |
| TC-046        | Loading state ขณะบันทึกผล                              | 1. เข้าหน้าสรุปผล<br>2. คลิก "ยืนยันผลการประเมิน"<br>3. ขณะรอ API response                     | savingResult = true                                                           | ปุ่มแสดงสถานะ loading และ disable ไม่ให้คลิกซ้ำ                                             |
| TC-047        | แสดง progress indicator แต่ละข้อกำหนด                  | 1. เข้าหน้าสรุปผล<br>2. ตรวจสอบส่วน progress ของข้อกำหนดหลักและรอง                             | มีข้อกำหนดที่ผ่านและไม่ผ่าน                                                   | แสดง progress bar หรือตัวเลขเปอร์เซ็นต์ที่สื่อถึงความคืบหน้าได้ชัดเจน                       |
| TC-048        | แสดงข้อความอธิบายเกณฑ์การผ่าน                          | 1. เข้าหน้าสรุปผล<br>2. ตรวจสอบส่วนคำอธิบาย                                                    | มีส่วนอธิบาย criteria                                                         | แสดงข้อความ "ข้อกำหนดหลักต้องผ่าน 100% และข้อกำหนดรองต้องผ่านอย่างน้อย 60%"                 |

## Step 3: หน้ารายละเอียดรายการตรวจ (Inspection Detail)

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                                       | ขั้นตอนการทดสอบ                                                                                               | ข้อมูลการทดสอบ                                                                                                              | ค่าคาดหวัง                                                                                      |
| ------------- | ------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- |
| TC-049        | โหลดข้อมูลรายละเอียดรายการตรวจ                         | 1. จาก Summary คลิกดูรายละเอียด inspectionItemId = 456<br>2. เข้าหน้ารายละเอียด                               | inspectionId = 123, itemId = 456                                                                                            | แสดง loading แล้วโหลดข้อมูล inspection และ inspectionItem ครบถ้วน                               |
| TC-050        | แสดงข้อมูลหัวข้อการตรวจ (InspectionInfo)               | 1. เข้าหน้ารายละเอียด<br>2. ตรวจสอบส่วนหัวข้อ                                                                 | inspection มีข้อมูล                                                                                                         | แสดงข้อมูล: รหัสการตรวจ, วันที่ตรวจ, ประเภทการตรวจ, ชื่อเกษตรกร, สถานที่ (เหมือน Summary)       |
| TC-051        | แสดงหัวข้อรายการตรวจ                                   | 1. เข้าหน้ารายละเอียด<br>2. ตรวจสอบหัวข้อรายการ                                                               | inspectionItemNo = 3, inspectionItemMaster.itemName = "น้ำ"                                                                 | แสดงหัวข้อ "รายการที่ 3 : น้ำ"                                                                  |
| TC-052        | แสดง StatusBadge ผลรายการตรวจ                          | 1. เข้าหน้ารายละเอียด<br>2. ตรวจสอบ StatusBadge                                                               | inspectionItemResult = "ผ่าน" / "ไม่ผ่าน" / "รอผลการประเมิน"                                                                | แสดง StatusBadge ตาม inspectionItemResult                                                       |
| TC-053        | แสดงข้อมูลเพิ่มเติม - รายการ "น้ำ"                     | 1. เข้าหน้ารายละเอียดของรายการ "น้ำ"<br>2. ตรวจสอบส่วนข้อมูลเพิ่มเติม                                         | itemName = "น้ำ", otherConditions มี waterSource/irrigationSystem                                                           | แสดง "แหล่งน้ำ" และ "ระบบน้ำ" จาก otherConditions                                               |
| TC-054        | แสดงข้อมูลเพิ่มเติม - รายการ "พื้นที่ปลูก"             | 1. เข้าหน้ารายละเอียดของรายการ "พื้นที่ปลูก"<br>2. ตรวจสอบส่วนข้อมูลเพิ่มเติม                                 | itemName = "พื้นที่ปลูก", otherConditions มี landConditions                                                                 | แสดงสภาพพื้นที่ปลูก (ยกร่องน้ำขัง/ยกร่อง/ที่ราบ/ที่ราบลุ่ม/ที่ดอน/อื่นๆ)                        |
| TC-055        | แสดงข้อมูลเพิ่มเติม - รายการ "วัตถุอันตรายทางการเกษตร" | 1. เข้าหน้ารายละเอียดของรายการ "วัตถุอันตรายทางการเกษตร"<br>2. ตรวจสอบส่วนข้อมูลเพิ่มเติม                     | itemName = "วัตถุอันตรายทางการเกษตร", otherConditions.notUsingHazardous = true                                              | แสดง checkbox "ไม่ได้ใช้วัตถุอันตรายทางการเกษตรในการผลิต" (checked, disabled)                   |
| TC-056        | แสดงข้อมูลเพิ่มเติม - รายการอื่นๆ (ไม่มีเงื่อนไขพิเศษ) | 1. เข้าหน้ารายละเอียดของรายการที่ไม่ใช่ "น้ำ", "พื้นที่ปลูก", "วัตถุอันตราย"<br>2. ตรวจสอบส่วนข้อมูลเพิ่มเติม | itemName = "แรงงาน" (ตัวอย่าง)                                                                                              | ไม่แสดงส่วนข้อมูลเพิ่มเติม                                                                      |
| TC-057        | แสดงรายการข้อกำหนด (Requirements)                      | 1. เข้าหน้ารายละเอียด<br>2. ตรวจสอบส่วนข้อกำหนด                                                               | inspectionItem.requirements มีข้อมูลอย่างน้อย 1 requirement                                                                 | แสดงรายการข้อกำหนดทั้งหมดของรายการตรวจนี้                                                       |
| TC-058        | เรียงลำดับข้อกำหนดตาม requirementNo                    | 1. เข้าหน้ารายละเอียด<br>2. ตรวจสอบลำดับข้อกำหนด                                                              | มีหลาย requirements                                                                                                         | ข้อกำหนดเรียงลำดับตาม requirementNo จากน้อยไปมาก                                                |
| TC-059        | แสดงข้อมูลข้อกำหนดแต่ละข้อ                             | 1. เข้าหน้ารายละเอียด<br>2. ตรวจสอบข้อมูลข้อกำหนด                                                             | requirement มี requirementNo, requirementMaster.requirementName, requirementLevel, evaluationResult, evaluationMethod, note | แสดงข้อมูล: เลขที่ข้อกำหนด, ชื่อข้อกำหนด, ระดับ (หลัก/รอง), ผลการประเมิน, วิธีประเมิน, หมายเหตุ |
| TC-060        | แสดง StatusBadge สำหรับผลข้อกำหนด                      | 1. เข้าหน้ารายละเอียด<br>2. ตรวจสอบผลการประเมินของแต่ละข้อกำหนด                                               | evaluationResult = "ใช่" / "ไม่ใช่"                                                                                         | แสดง StatusBadge หรือสัญลักษณ์ที่สื่อถึงผลได้ชัดเจน                                             |
| TC-061        | แสดงระดับข้อกำหนด (หลัก/รอง)                           | 1. เข้าหน้ารายละเอียด<br>2. ตรวจสอบระดับข้อกำหนด                                                              | requirementMaster.requirementLevel = "ข้อกำหนดหลัก" / "ข้อกำหนดรอง"                                                         | แสดงระดับข้อกำหนดพร้อม badge หรือสีที่แตกต่างกัน                                                |
| TC-062        | แสดงวิธีการประเมิน                                     | 1. เข้าหน้ารายละเอียด<br>2. ตรวจสอบวิธีการประเมิน                                                             | evaluationMethod มีค่า                                                                                                      | แสดงข้อความวิธีการประเมิน หรือ "-" ถ้าไม่มี                                                     |
| TC-063        | แสดงหมายเหตุของข้อกำหนด                                | 1. เข้าหน้ารายละเอียด<br>2. ตรวจสอบหมายเหตุ                                                                   | note มีค่า                                                                                                                  | แสดงข้อความหมายเหตุ หรือ "-" ถ้าไม่มี                                                           |
| TC-064        | ปุ่ม "กลับไปหน้าสรุปผล"                                | 1. เข้าหน้ารายละเอียด<br>2. คลิกปุ่ม "กลับไปหน้าสรุปผล"                                                       | อยู่ในหน้ารายละเอียด                                                                                                        | Navigate กลับไปหน้า Summary (router.back())                                                     |
| TC-065        | Loading state ขณะโหลดข้อมูล                            | 1. Navigate ไปหน้ารายละเอียด<br>2. ขณะกำลังโหลดข้อมูล                                                         | loading = true                                                                                                              | แสดง spinner ตรงกลางหน้าจนกว่าจะโหลดเสร็จ                                                       |
| TC-066        | ไม่พบข้อกำหนด                                          | 1. เข้าหน้ารายละเอียด<br>2. ตรวจสอบเมื่อไม่มีข้อกำหนด                                                         | inspectionItem.requirements = [] หรือ null                                                                                  | แสดงข้อความ "ไม่พบข้อกำหนดสำหรับรายการนี้"                                                      |

## UI/UX และ Navigation

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                       | ขั้นตอนการทดสอบ                                                    | ข้อมูลการทดสอบ                        | ค่าคาดหวัง                                                                         |
| ------------- | -------------------------------------- | ------------------------------------------------------------------ | ------------------------------------- | ---------------------------------------------------------------------------------- |
| TC-067        | Navigation จากรายการไปสรุปผล           | 1. หน้ารายการ (Reports)<br>2. คลิกปุ่มจัดการของรายการใดรายการหนึ่ง | inspectionId = 123                    | Navigate ไป "/auditor/inspection-summary/123" และแสดงหน้าสรุปผลถูกต้อง             |
| TC-068        | Navigation จากสรุปผลไปรายละเอียด       | 1. หน้าสรุปผล<br>2. คลิกปุ่มดูรายละเอียดของ item ใดรายการหนึ่ง     | inspectionId = 123, itemId = 456      | Navigate ไป "/auditor/inspection-detail/123/456" และแสดงรายละเอียดถูกต้อง          |
| TC-069        | Navigation กลับจากรายละเอียดไปสรุปผล   | 1. หน้ารายละเอียด<br>2. คลิกปุ่ม "กลับไปหน้าสรุปผล"                | อยู่ในหน้ารายละเอียด                  | Navigate กลับไปหน้าสรุปผล (router.back())                                          |
| TC-070        | Navigation กลับจากสรุปผลไปรายการ       | 1. หน้าสรุปผล (หลังบันทึกผลเสร็จ)<br>2. ระบบ navigate กลับ         | บันทึกผลการประเมินสำเร็จ              | Navigate กลับไปหน้ารายการ (Reports)                                                |
| TC-071        | Responsive design - Mobile view        | 1. เข้าหน้ารายการบนหน้าจอมือถือ<br>2. ตรวจสอบการแสดงผล             | ความกว้างหน้าจอ < 768px               | ตารางแสดงผลแบบ responsive (stack columns หรือ mobile-friendly layout)              |
| TC-072        | Header และ subtitle แสดงถูกต้อง        | 1. เข้าหน้า "สรุปผลการตรวจประเมิน"<br>2. ตรวจสอบ header            | title, subtitle มีค่า                 | แสดง "สรุปผลการตรวจประเมิน" และ subtitle "จัดการและสรุปผลการตรวจประเมินสวนยางพารา" |
| TC-073        | AuditorLayout ครอบหน้า Reports         | 1. เข้าหน้า Reports<br>2. ตรวจสอบ layout                           | อยู่ในหน้า /auditor/reports           | หน้าอยู่ภายใน AuditorLayout (มี sidebar/navigation bar ของ Auditor)                |
| TC-074        | สี theme และ styling ตาม design system | 1. เข้าหน้าต่างๆ<br>2. ตรวจสอบสี, font, spacing                    | มี design system                      | ใช้สีและ styling ตามที่กำหนดไว้ใน design system                                    |
| TC-075        | Toast notification แสดงถูกต้อง         | 1. ทำ action ที่มี toast (เช่น บันทึกผลสำเร็จ)<br>2. ตรวจสอบ toast | มี toast.success() หรือ toast.error() | Toast แสดงข้อความที่เหมาะสมและหายไปอัตโนมัติ                                       |

## Edge Cases และ Integration

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                                              | ขั้นตอนการทดสอบ                                                                                            | ข้อมูลการทดสอบ                                           | ค่าคาดหวัง                                                                 |
| ------------- | ------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------- | -------------------------------------------------------- | -------------------------------------------------------------------------- |
| TC-076        | Session unauthenticated - redirect                            | 1. ไม่ได้ login หรือ session หมดอายุ<br>2. พยายามเข้าหน้า Reports                                          | status = "unauthenticated"                               | Redirect ไปหน้า "/" (login page)                                           |
| TC-077        | Session loading - รอโหลด                                      | 1. เข้าหน้า Reports ขณะ session กำลังโหลด<br>2. ตรวจสอบพฤติกรรม                                            | status = "loading"                                       | ไม่ fetch ข้อมูล จนกว่า status จะเป็น "authenticated"                      |
| TC-078        | ไม่มี auditorId ใน session                                    | 1. Login แล้วแต่ไม่มี auditorId<br>2. เข้าหน้า Reports                                                     | session.user.roleData.auditorId = null                   | ยังคง fetch ได้แต่ไม่ส่ง auditorId ใน query params                         |
| TC-079        | API error - /api/v1/inspections                               | 1. เข้าหน้า Reports<br>2. API /api/v1/inspections response 500                                             | API error                                                | แสดง toast error "เกิดข้อผิดพลาดในการดึงข้อมูล" และตารางว่าง               |
| TC-080        | API error - /api/v1/inspections/{id}                          | 1. เข้าหน้าสรุปผล inspectionId = 999<br>2. API response 404                                                | Inspection ไม่มีในระบบ                                   | แสดง toast error "ไม่สามารถดึงข้อมูลการตรวจประเมินได้"                     |
| TC-081        | API error - /api/v1/inspection-items                          | 1. เข้าหน้ารายละเอียด<br>2. API inspection-items response error                                            | API error                                                | แสดง toast error "ไม่สามารถดึงข้อมูลรายการตรวจประเมินได้"                  |
| TC-082        | ไม่พบ rubberFarm ใน inspection                                | 1. เข้าหน้า Reports<br>2. มี inspection ที่ไม่มี rubberFarm                                                | rubberFarmId = null หรือไม่มี rubberFarm object          | คอลัมน์ "สถานที่" แสดง "-"                                                 |
| TC-083        | ไม่พบ farmer ใน rubberFarm                                    | 1. เข้าหน้า Reports<br>2. มี rubberFarm ที่ไม่มี farmer                                                    | rubberFarm.farmer = null                                 | คอลัมน์ "เกษตรกร" แสดง "ไม่มีข้อมูล" หรือ "ไม่ระบุ"                        |
| TC-084        | ไม่พบ inspectionType                                          | 1. เข้าหน้าสรุปผล<br>2. มี inspection ที่ไม่มี inspectionType                                              | inspectionTypeId มีค่าแต่ไม่มี inspectionType object     | Fetch inspectionType จาก /api/v1/inspections/types และ update ข้อมูล       |
| TC-085        | ไม่พบ farmer จาก farmerId                                     | 1. เข้าหน้าสรุปผล/รายละเอียด<br>2. rubberFarm ไม่มี farmer แต่มี farmerId                                  | rubberFarm.farmerId มีค่าแต่ไม่มี farmer object          | Fetch farmer จาก /api/v1/farmers/{farmerId} และ update ข้อมูล              |
| TC-086        | ไม่พบ inspectionItemMaster                                    | 1. เข้าหน้าสรุปผล<br>2. มี item ที่ไม่มี inspectionItemMaster                                              | inspectionItemMaster = null                              | แสดง "รายการที่ {inspectionItemNo}" แทนชื่อ item                           |
| TC-087        | ไม่พบ requirementMaster ในข้อกำหนด                            | 1. เข้าหน้ารายละเอียด<br>2. มี requirement ที่ไม่มี requirementMaster                                      | requirement.requirementMaster = null                     | แสดงเฉพาะข้อมูลที่มี (requirementNo, evaluationResult) หรือแสดงค่า default |
| TC-088        | ไม่มี requirements ใน item                                    | 1. เข้าหน้ารายละเอียด<br>2. inspectionItem ไม่มี requirements                                              | requirements = [] หรือ null                              | แสดงข้อความ "ไม่พบข้อกำหนดสำหรับรายการนี้"                                 |
| TC-089        | ข้อมูล otherConditions เป็น null หรือ empty                   | 1. เข้าหน้ารายละเอียดของรายการพิเศษ (น้ำ, พื้นที่ปลูก)<br>2. otherConditions = null                        | otherConditions = null หรือ {}                           | ไม่แสดงข้อมูลเพิ่มเติม หรือแสดง "-"                                        |
| TC-090        | ข้อมูล landConditions มี "other" แต่ไม่มี landConditionsOther | 1. เข้าหน้ารายละเอียดของรายการ "พื้นที่ปลูก"<br>2. landConditions = ["other"] แต่ไม่มี landConditionsOther | landConditions มี "other" แต่ไม่ระบุ landConditionsOther | แสดงเฉพาะ "อื่นๆ" (ไม่แสดงรายละเอียดต่อท้าย)                               |
| TC-091        | Multi-sort กับ pagination                                     | 1. ใช้ multi-sort<br>2. เปลี่ยนหน้า                                                                        | มี sort และ pagination พร้อมกัน                          | ส่งพารามิเตอร์ทั้ง sort และ pagination ไปที่ backend ถูกต้อง               |
| TC-092        | Filters กับ pagination                                        | 1. ใช้ filters (จังหวัด/อำเภอ/ตำบล)<br>2. เปลี่ยนหน้า                                                      | มี filters และ pagination พร้อมกัน                       | ส่งพารามิเตอร์ทั้ง filters และ pagination ไปที่ backend ถูกต้อง            |
| TC-093        | เปลี่ยน Tab แล้ว filters ยังคงอยู่                            | 1. ใส่ filters<br>2. เปลี่ยน Tab จาก pending เป็น completed                                                | มี filters ที่เลือกไว้                                   | filters ยังคงใช้งานได้ใน Tab ใหม่                                          |
| TC-094        | ล้างค่า filters แล้ว Tab ยังคงเดิม                            | 1. เลือก Tab completed<br>2. ใส่ filters<br>3. คลิก "ล้างค่า"                                              | อยู่ใน Tab completed                                     | filters ถูกล้างแต่ Tab ยังคงเป็น completed                                 |
| TC-095        | เปลี่ยน Tab แล้ว pagination reset                             | 1. อยู่หน้า 3 ใน Tab pending<br>2. เปลี่ยนเป็น Tab completed                                               | first = 20, page = 2                                     | Pagination reset เป็น first = 0, page = 0 (หน้าที่ 1)                      |
| TC-096        | บันทึกผลซ้ำหลายครั้งติดกัน                                    | 1. เข้าหน้าสรุปผล<br>2. คลิก "ยืนยันผลการประเมิน" หลายครั้งติดกัน                                          | savingResult = true                                      | ปุ่ม disable ขณะกำลังบันทึก ป้องกันการ submit ซ้ำ                          |
| TC-097        | inspectionId เป็น array                                       | 1. Navigate ด้วย inspectionId เป็น array<br>2. เข้าหน้าสรุปผล/รายละเอียด                                   | params.id = ["123"] (array)                              | ใช้ค่าตัวแรกของ array (params.id[0]) ในการ fetch ข้อมูล                    |
| TC-098        | itemId เป็น array                                             | 1. Navigate ด้วย itemId เป็น array<br>2. เข้าหน้ารายละเอียด                                                | params.itemId = ["456"] (array)                          | ใช้ค่าตัวแรกของ array (params.itemId[0]) ในการ fetch ข้อมูล                |
| TC-099        | ไม่พบ selectedItem ใน items                                   | 1. เข้าหน้ารายละเอียด itemId = 999<br>2. ไม่มี item ที่ตรง itemId นี้ใน items array                        | itemId ไม่ตรงกับ item ใดๆ                                | แสดง toast error "ไม่พบรายการตรวจที่ต้องการ"                               |
| TC-100        | ข้อมูล version ไม่มีค่า                                       | 1. เข้าหน้าสรุปผล<br>2. บันทึกผลแต่ inspection.version = null/undefined                                    | version = null                                           | ส่ง version: null หรือ undefined ไปที่ API (backend จัดการ)                |
