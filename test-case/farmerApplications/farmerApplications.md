# แผนการทดสอบการติดตามสถานะการยื่นขอใบรับรอง

## การแสดงรายการสวนยาง

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                      | ขั้นตอนการทดสอบ                                                                                      | ข้อมูลการทดสอบ                                           | ค่าคาดหวัง                                                                            |
| ------------- | ------------------------------------- | ---------------------------------------------------------------------------------------------------- | -------------------------------------------------------- | ------------------------------------------------------------------------------------- |
| TC-001        | แสดงรายการสวนยางทั้งหมด               | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                              | Farmer มีสวนยาง 5 แปลง                                   | แสดง DataTable พร้อมรายการสวนยางทั้ง 5 แปลง                                           |
| TC-002        | ไม่มีสวนยางในระบบ                     | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                              | Farmer ไม่มีสวนยาง                                       | แสดงข้อความเตือนพร้อมปุ่ม "ลงทะเบียนสวนยาง"                                           |
| TC-003        | Loading state เมื่อโหลดข้อมูล         | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                              | กำลังโหลดข้อมูล                                          | แสดง loading indicator ใน DataTable                                                   |
| TC-004        | แสดง error message                    | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. API error                              | API ส่งกลับ error                                        | แสดงข้อความ error สีแดง                                                               |
| TC-005        | แสดงคอลัมน์ครบถ้วน                    | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. ตรวจสอบคอลัมน์                         | มีสวนยาง                                                 | แสดงคอลัมน์: รหัสสวน, สถานที่, จังหวัด, อำเภอ, ตำบล, กำหนดตรวจประเมิน, สถานะ, Actions |
| TC-006        | แสดงรหัสสวนด้วย farmId                | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                              | rubberFarm.farmId = "RF00123"                            | แสดงรหัสสวน "RF00123"                                                                 |
| TC-007        | แสดงรหัสสวนจาก rubberFarmId           | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                              | rubberFarmId = 123, farmId = null                        | แสดงรหัสสวน "RF00123" (padStart 5 digits)                                             |
| TC-008        | แสดงสถานที่จาก location               | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                              | rubberFarm.location = "สวนยางหาดใหญ่"                    | แสดงสถานที่ "สวนยางหาดใหญ่"                                                           |
| TC-009        | แสดงสถานที่จาก villageName และ moo    | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                              | villageName = "หมู่บ้านสวนยาง", moo = 5, location = null | แสดงสถานที่ "หมู่บ้านสวนยาง หมู่ 5"                                                   |
| TC-010        | แสดงจังหวัดถูกต้อง                    | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                              | rubberFarm.province = "สงขลา"                            | แสดงจังหวัด "สงขลา"                                                                   |
| TC-011        | แสดงอำเภอถูกต้อง                      | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                              | rubberFarm.district = "หาดใหญ่"                          | แสดงอำเภอ "หาดใหญ่"                                                                   |
| TC-012        | แสดงตำบลถูกต้อง                       | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                              | rubberFarm.subDistrict = "หาดใหญ่"                       | แสดงตำบล "หาดใหญ่"                                                                    |
| TC-013        | แสดงกำหนดตรวจประเมินในรูปแบบไทย       | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                              | inspection.inspectionDateAndTime = "2025-01-15T10:00:00" | แสดง "15 มกราคม 2568"                                                                 |
| TC-014        | แสดง "-" เมื่อไม่มีกำหนดตรวจประเมิน   | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                              | inspection = null หรือ inspectionDateAndTime = null      | แสดง "-"                                                                              |
| TC-015        | กดปุ่มลงทะเบียนสวนยางเมื่อไม่มีข้อมูล | 1. Login เป็นเกษตรกร (ไม่มีสวนยาง)<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. กดปุ่ม "ลงทะเบียนสวนยาง" | ไม่มีสวนยาง                                              | ไปหน้า /farmer/applications/new                                                       |
| TC-016        | แสดงข้อความแจ้งเตือนเมื่อไม่มีข้อมูล  | 1. Login เป็นเกษตรกร (ไม่มีสวนยาง)<br>2. เข้าหน้าติดตามสถานะการรับรอง                                | ไม่มีสวนยาง                                              | แสดง warning box พร้อม DangerIcon และข้อความแนะนำ                                     |

## การแสดงสถานะ

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                     | ขั้นตอนการทดสอบ                                                                  | ข้อมูลการทดสอบ                                                                | ค่าคาดหวัง                                                           |
| ------------- | ------------------------------------ | -------------------------------------------------------------------------------- | ----------------------------------------------------------------------------- | -------------------------------------------------------------------- |
| TC-017        | แสดงสถานะ "รอกำหนดวันตรวจประเมิน"    | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                          | inspection = null                                                             | แสดงสถานะ "รอกำหนดวันตรวจประเมิน" (bg-yellow-100 text-yellow-800)    |
| TC-018        | แสดงสถานะ "รอการตรวจประเมิน"         | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                          | inspectionStatus = "รอการตรวจประเมิน"                                         | แสดงสถานะ "รอการตรวจประเมิน" (bg-blue-100 text-blue-800)             |
| TC-019        | แสดงสถานะ "ตรวจประเมินแล้ว รอสรุปผล" | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                          | inspectionStatus = "ตรวจประเมินแล้ว", inspectionResult = "รอผลการตรวจประเมิน" | แสดงสถานะ "ตรวจประเมินแล้ว รอสรุปผล" (bg-purple-100 text-purple-800) |
| TC-020        | แสดงสถานะ "ผ่านการรับรอง"            | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                          | inspectionStatus = "ตรวจประเมินแล้ว", inspectionResult = "ผ่าน"               | แสดงสถานะ "ผ่านการรับรอง" (bg-green-100 text-green-800)              |
| TC-021        | แสดงสถานะ "ไม่ผ่านการรับรอง"         | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                          | inspectionStatus = "ตรวจประเมินแล้ว", inspectionResult = "ไม่ผ่าน"            | แสดงสถานะ "ไม่ผ่านการรับรอง" (bg-red-100 text-red-800)               |
| TC-022        | แสดงสถานะอื่นๆ                       | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                          | inspectionStatus = "สถานะอื่น"                                                | แสดงสถานะตาม inspectionStatus (bg-gray-100 text-gray-800)            |
| TC-023        | สถานะแสดงเป็น badge กลม              | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. ตรวจสอบรูปแบบสถานะ | มีสวนยาง                                                                      | สถานะแสดงเป็น rounded-full badge พร้อมสีตามสถานะ                     |

## Pagination และ Sorting

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                | ขั้นตอนการทดสอบ                                                                                                                           | ข้อมูลการทดสอบ                          | ค่าคาดหวัง                                               |
| ------------- | ------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------- | -------------------------------------------------------- |
| TC-024        | เปลี่ยนหน้า pagination          | 1. Login เป็นเกษตรกร (มีสวนยาง 25 แปลง)<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. คลิกหน้า 2 ใน pagination                                 | มีสวนยาง 25 แปลง, แสดง 10 รายการต่อหน้า | แสดงสวนยางรายการที่ 11-20                                |
| TC-025        | เปลี่ยนจำนวนรายการต่อหน้า       | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. เปลี่ยนจาก 10 เป็น 25 รายการต่อหน้า                                         | เปลี่ยนเป็น 25 รายการต่อหน้า            | แสดงสวนยาง 25 รายการต่อหน้า                              |
| TC-026        | แสดง rows per page options      | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. ตรวจสอบ pagination options                                                  | ไม่มี                                   | แสดง options: 10, 25, 50                                 |
| TC-027        | เรียงลำดับตามรหัสสวน            | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. คลิกที่หัวคอลัมน์ "รหัสสวน"                                                 | คลิกเรียงลำดับ                          | เรียงลำดับสวนยางตามรหัสสวนจากน้อยไปมาก                   |
| TC-028        | เรียงลำดับตามรหัสสวน (กลับด้าน) | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. คลิกที่หัวคอลัมน์ "รหัสสวน" 2 ครั้ง                                         | คลิกเรียงลำดับ 2 ครั้ง                  | เรียงลำดับสวนยางตามรหัสสวนจากมากไปน้อย                   |
| TC-029        | เรียงลำดับตามสถานที่            | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. คลิกที่หัวคอลัมน์ "สถานที่"                                                 | คลิกเรียงลำดับ                          | เรียงลำดับสวนยางตามสถานที่ A-Z                           |
| TC-030        | เรียงลำดับตามจังหวัด            | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. คลิกที่หัวคอลัมน์ "จังหวัด"                                                 | คลิกเรียงลำดับ                          | เรียงลำดับสวนยางตามจังหวัด A-Z                           |
| TC-031        | เรียงลำดับตามอำเภอ              | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. คลิกที่หัวคอลัมน์ "อำเภอ"                                                   | คลิกเรียงลำดับ                          | เรียงลำดับสวนยางตามอำเภอ A-Z                             |
| TC-032        | เรียงลำดับตามตำบล               | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. คลิกที่หัวคอลัมน์ "ตำบล"                                                    | คลิกเรียงลำดับ                          | เรียงลำดับสวนยางตามตำบล A-Z                              |
| TC-033        | เรียงลำดับตามกำหนดตรวจประเมิน   | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. คลิกที่หัวคอลัมน์ "กำหนดตรวจประเมิน"                                        | คลิกเรียงลำดับ                          | เรียงลำดับสวนยางตามวันที่ตรวจจากน้อยไปมาก                |
| TC-034        | เรียงลำดับหลายคอลัมน์           | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. กด Ctrl+คลิกที่หัวคอลัมน์ "จังหวัด"<br>4. กด Ctrl+คลิกที่หัวคอลัมน์ "อำเภอ" | เรียงลำดับหลายคอลัมน์                   | เรียงลำดับตามจังหวัดก่อน แล้วตามอำเภอ                    |
| TC-035        | ตรวจสอบ sortMode="multiple"     | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. ตรวจสอบ DataTable config                                                    | ไม่มี                                   | DataTable มี sortMode="multiple"                         |
| TC-036        | ตรวจสอบ lazy loading            | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. เปลี่ยนหน้าหรือเรียงลำดับ                                                   | เปลี่ยนหน้าหรือเรียงลำดับ               | API ถูกเรียกใหม่ด้วย offset, limit, sortField, sortOrder |

## ดูคำแนะนำและข้อบกพร่อง

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                        | ขั้นตอนการทดสอบ                                                                      | ข้อมูลการทดสอบ                        | ค่าคาดหวัง                                       |
| ------------- | --------------------------------------- | ------------------------------------------------------------------------------------ | ------------------------------------- | ------------------------------------------------ |
| TC-037        | แสดงปุ่มดูคำแนะนำ                       | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. ตรวจสอบคอลัมน์ Actions | มีสวนยาง                              | แสดงปุ่ม eye icon ในทุกแถว                       |
| TC-038        | ปุ่มดูคำแนะนำ disabled เมื่อไม่มีข้อมูล | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                              | inspection.adviceAndDefect = null     | ปุ่ม eye icon ถูก disabled                       |
| TC-039        | ปุ่มดูคำแนะนำ enabled เมื่อมีข้อมูล     | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                              | inspection.adviceAndDefect != null    | ปุ่ม eye icon สามารถกดได้                        |
| TC-040        | กดปุ่มดูคำแนะนำเปิด modal               | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. กดปุ่ม eye icon        | มี adviceAndDefect                    | เปิด modal แสดงข้อมูลการให้คำปรึกษาและข้อบกพร่อง |
| TC-041        | แสดงหัวข้อ modal ถูกต้อง                | 1. เปิด modal ดูคำแนะนำ<br>2. ตรวจสอบหัวข้อ                                          | เปิด modal                            | แสดงหัวข้อ "ข้อมูลการให้คำปรึกษาและข้อบกพร่อง"   |
| TC-042        | แสดงข้อมูลการตรวจประเมิน                | 1. เปิด modal ดูคำแนะนำ<br>2. ตรวจสอบส่วนข้อมูลการตรวจประเมิน                        | มีข้อมูลการตรวจ                       | แสดงข้อมูลการตรวจประเมินใน bg-gray-50 box        |
| TC-043        | แสดงรายการให้คำปรึกษา                   | 1. เปิด modal ดูคำแนะนำ<br>2. ตรวจสอบส่วนรายการให้คำปรึกษา                           | adviceList มี 2 รายการ                | แสดงรายการให้คำปรึกษาทั้ง 2 รายการ               |
| TC-044        | แสดงรายการข้อบกพร่อง                    | 1. เปิด modal ดูคำแนะนำ<br>2. ตรวจสอบส่วนข้อบกพร่อง                                  | defectList มี 1 รายการ                | แสดงรายการข้อบกพร่อง 1 รายการ                    |
| TC-045        | ปิด modal ด้วยปุ่มปิด                   | 1. เปิด modal ดูคำแนะนำ<br>2. กดปุ่ม "ปิด"                                           | modal เปิดอยู่                        | modal ถูกปิด                                     |
| TC-046        | ปิด modal ด้วยการคลิกนอก modal          | 1. เปิด modal ดูคำแนะนำ<br>2. คลิกนอก modal                                          | modal เปิดอยู่                        | modal ถูกปิด                                     |
| TC-047        | ตรวจสอบ modal responsive                | 1. เปิด modal ดูคำแนะนำ<br>2. เปลี่ยนขนาดหน้าจอ                                      | เปลี่ยนขนาดหน้าจอ                     | modal แสดงผล width: 90vw, maxWidth: 56rem        |
| TC-048        | ตรวจสอบ modal scroll                    | 1. เปิด modal ดูคำแนะนำ<br>2. มีข้อมูลเยอะ<br>3. ลองเลื่อน                           | ข้อมูลเยอะ                            | modal content มี maxHeight: 70vh และ scrollable  |
| TC-049        | แสดงข้อมูล adviceItem                   | 1. เปิด modal ดูคำแนะนำ<br>2. ตรวจสอบรายการคำปรึกษา                                  | adviceItem = "การใช้ปุ๋ย"             | แสดงหัวข้อ "การใช้ปุ๋ย"                          |
| TC-050        | แสดงข้อมูล recommendation               | 1. เปิด modal ดูคำแนะนำ<br>2. ตรวจสอบรายการคำปรึกษา                                  | recommendation = "ควรใช้ปุ๋ยอินทรีย์" | แสดงคำแนะนำ "ควรใช้ปุ๋ยอินทรีย์"                 |
| TC-051        | แสดงข้อมูล time ของ advice              | 1. เปิด modal ดูคำแนะนำ<br>2. ตรวจสอบรายการคำปรึกษา                                  | time = "10:00"                        | แสดงเวลา "10:00"                                 |
| TC-052        | แสดงข้อมูล defectItem                   | 1. เปิด modal ดูคำแนะนำ<br>2. ตรวจสอบรายการข้อบกพร่อง                                | defectItem = "พื้นที่ปนเปื้อน"        | แสดงหัวข้อ "พื้นที่ปนเปื้อน"                     |
| TC-053        | แสดงข้อมูล defectDetail                 | 1. เปิด modal ดูคำแนะนำ<br>2. ตรวจสอบรายการข้อบกพร่อง                                | defectDetail = "พบขยะในสวน"           | แสดงรายละเอียด "พบขยะในสวน"                      |
| TC-054        | แสดงข้อมูล time ของ defect              | 1. เปิด modal ดูคำแนะนำ<br>2. ตรวจสอบรายการข้อบกพร่อง                                | time = "11:30"                        | แสดงเวลา "11:30"                                 |

## UI/UX และ Responsive

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ               | ขั้นตอนการทดสอบ                                                                                       | ข้อมูลการทดสอบ    | ค่าคาดหวัง                                                                    |
| ------------- | ------------------------------ | ----------------------------------------------------------------------------------------------------- | ----------------- | ----------------------------------------------------------------------------- |
| TC-055        | แสดงหัวข้อหน้าถูกต้อง          | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. ตรวจสอบหัวข้อ                           | ไม่มี             | แสดงหัวข้อ "ติดตามสถานะการรับรอง"                                             |
| TC-056        | แสดง subtitle ถูกต้อง          | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. ตรวจสอบ subtitle                        | ไม่มี             | แสดง subtitle "ตรวจสอบสถานะคำขอและผลการรับรองแหล่งผลิต"                       |
| TC-057        | ตรวจสอบ responsive design      | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. เปลี่ยนขนาดหน้าจอ desktop/tablet/mobile | เปลี่ยนขนาดหน้าจอ | แสดงผลถูกต้องทุกขนาดหน้าจอ                                                    |
| TC-058        | ตรวจสอบ padding หน้าเพจ        | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                               | ไม่มี             | มี padding: px-4 sm:px-6 lg:px-8 py-8                                         |
| TC-059        | ตรวจสอบ card design            | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                               | ไม่มี             | DataTable อยู่ใน white card พร้อม rounded-xl shadow-sm                        |
| TC-060        | ตรวจสอบ icon ปุ่มดูคำแนะนำ     | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. ตรวจสอบปุ่ม                             | ไม่มี             | ปุ่มแสดง icon "pi-eye"                                                        |
| TC-061        | ตรวจสอบสีปุ่มดูคำแนะนำ         | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. ตรวจสอบปุ่ม                             | ไม่มี             | ปุ่มมีสี color="info" (สีฟ้า)                                                 |
| TC-062        | ตรวจสอบ rounded ปุ่ม           | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. ตรวจสอบปุ่ม                             | ไม่มี             | ปุ่มมี rounded และ text style                                                 |
| TC-063        | ตรวจสอบ warning box design     | 1. Login เป็นเกษตรกร (ไม่มีสวนยาง)<br>2. เข้าหน้าติดตามสถานะการรับรอง                                 | ไม่มีสวนยาง       | แสดง warning box สีเหลือง (bg-yellow-50 border-yellow-100)                    |
| TC-064        | แสดง DangerIcon ใน warning box | 1. Login เป็นเกษตรกร (ไม่มีสวนยาง)<br>2. เข้าหน้าติดตามสถานะการรับรอง                                 | ไม่มีสวนยาง       | แสดง DangerIcon สีเหลือง ขนาด h-6 w-6                                         |
| TC-065        | ตรวจสอบ emptyMessage           | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                               | มี error          | DataTable แสดง emptyMessage "ไม่พบข้อมูลสวนยางพารา"                           |
| TC-066        | ตรวจสอบ column alignment       | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. ตรวจสอบ alignment                       | ไม่มี             | รหัสสวน, กำหนดตรวจประเมิน, สถานะ: center; สถานที่, จังหวัด, อำเภอ, ตำบล: left |
| TC-067        | ตรวจสอบ column width           | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. ตรวจสอบ column width                    | ไม่มี             | แต่ละคอลัมน์มี width ที่กำหนด (10%, 13%, 14%, etc.)                           |
| TC-068        | ตรวจสอบ mobileAlign            | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง (mobile)<br>3. ตรวจสอบสถานะและปุ่ม            | ดูบน mobile       | สถานะและ Actions: mobileAlign="right"                                         |
| TC-069        | ตรวจสอบ mobileHideLabel        | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง (mobile)<br>3. ตรวจสอบ Actions                | ดูบน mobile       | Actions: mobileHideLabel=true                                                 |

## Integration Tests

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                             | ขั้นตอนการทดสอบ                                                                                         | ข้อมูลการทดสอบ                       | ค่าคาดหวัง                                                 |
| ------------- | -------------------------------------------- | ------------------------------------------------------------------------------------------------------- | ------------------------------------ | ---------------------------------------------------------- |
| TC-070        | ตรวจสอบ authentication                       | 1. ไม่ได้ login<br>2. พยายามเข้าหน้าติดตามสถานะการรับรอง                                                | ไม่ได้ login                         | ระบบ redirect ไปหน้า login (/)                             |
| TC-071        | ตรวจสอบการ filter ตาม farmerId               | 1. Login เป็นเกษตรกร ID=10<br>2. เข้าหน้าติดตามสถานะการรับรอง                                           | Farmer ID=10                         | แสดงเฉพาะสวนยางที่เกี่ยวข้องกับ farmerId=10                |
| TC-072        | ตรวจสอบ pagination ทำงานกับ API              | 1. Login เป็นเกษตรกร (มีสวนยาง 25 แปลง)<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. เปลี่ยนหน้า pagination | เปลี่ยนไปหน้า 2                      | API ถูกเรียกด้วย offset=10, limit=10                       |
| TC-073        | ตรวจสอบ sorting ทำงานกับ API                 | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. คลิกเรียงลำดับ                            | คลิกเรียงลำดับตามรหัสสวน             | API ถูกเรียกด้วย sortField="rubberFarmId", sortOrder="asc" |
| TC-074        | ตรวจสอบ multiSortMeta ส่งไปยัง API           | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. เรียงลำดับหลายคอลัมน์                     | เรียงลำดับหลายคอลัมน์                | API ถูกเรียกด้วย multiSortMeta=[{field, order}, ...]       |
| TC-075        | ตรวจสอบ includeInspections parameter         | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                                 | ไม่มี                                | API ถูกเรียกด้วย includeInspections=true                   |
| TC-076        | ตรวจสอบการ fetch inspection พร้อม rubberFarm | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                                 | ไม่มี                                | ข้อมูล rubberFarm รวมข้อมูล inspection ด้วย                |
| TC-077        | ตรวจสอบ totalRecords จาก paginator           | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                                 | API ส่งกลับ paginator object         | แสดง totalRecords ตาม paginator.total                      |
| TC-078        | ตรวจสอบ totalRecords เมื่อไม่มี paginator    | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                                 | API ไม่ส่งกลับ paginator             | totalRecords = results.length                              |
| TC-079        | ตรวจสอบการ handle API error                  | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. API error                                 | API error                            | แสดงข้อความ error และไม่ crash                             |
| TC-080        | ตรวจสอบการ set error message                 | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. API error                                 | API response not ok                  | แสดง error "ไม่สามารถดึงข้อมูลได้ กรุณาลองใหม่อีกครั้ง"    |
| TC-081        | ตรวจสอบการ catch exception                   | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. Network error                             | Network error                        | แสดง error "เกิดข้อผิดพลาดในการดึงข้อมูล"                  |
| TC-082        | ตรวจสอบ loading state จาก hook               | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                                 | กำลังโหลด                            | loading=true จนกว่า API จะเสร็จ                            |
| TC-083        | ตรวจสอบ modal blockScroll                    | 1. เปิด modal ดูคำแนะนำ<br>2. พยายามเลื่อนหน้าเพจ                                                       | modal เปิดอยู่                       | หน้าเพจถูก block scroll                                    |
| TC-084        | ตรวจสอบ modal focus trap                     | 1. เปิด modal ดูคำแนะนำ<br>2. กด Tab                                                                    | modal เปิดอยู่                       | focus ถูกจำกัดภายใน modal                                  |
| TC-085        | ตรวจสอบ formatting วันที่ภาษาไทย             | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง                                                 | inspectionDateAndTime = "2025-01-15" | แสดงวันที่ "15 มกราคม 2568" (พ.ศ. +543)                    |
| TC-086        | ตรวจสอบการ refresh เมื่อเปลี่ยน session      | 1. Login เป็นเกษตรกร A<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. Logout และ login เป็นเกษตรกร B          | เปลี่ยนผู้ใช้                        | แสดงข้อมูลของเกษตรกร B                                     |
| TC-087        | ตรวจสอบ useEffect dependencies               | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. เปลี่ยน rows, sortField, sortOrder        | เปลี่ยน dependencies                 | API ถูกเรียกใหม่                                           |
| TC-088        | ตรวจสอบ lazy loading ทำงานถูกต้อง            | 1. Login เป็นเกษตรกร<br>2. เข้าหน้าติดตามสถานะการรับรอง<br>3. เปลี่ยนหน้าหรือเรียงลำดับ                 | เปลี่ยนหน้าหรือเรียงลำดับ            | ไม่โหลดข้อมูลทั้งหมดครั้งเดียว แต่โหลดทีละหน้า             |
