# แผนการทดสอบการตรวจประเมินสวนยาง (Playwright E2E Testing)

**รวม 45 Test Cases**

## 1. รายการการตรวจประเมิน

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                        | ขั้นตอนการทดสอบ                                                  | ข้อมูลการทดสอบ                                  | ค่าคาดหวัง                                                                                                           |
| ------------- | --------------------------------------- | ---------------------------------------------------------------- | ----------------------------------------------- | -------------------------------------------------------------------------------------------------------------------- |
| TC-001        | เข้าเมนูรายการตรวจประเมิน               | 1. Login เป็น auditor<br>2. เข้าเมนูการตรวจประเมิน               | ผู้ใช้มีสิทธิ auditor                           | แสดงหน้ารายการการตรวจประเมินสำเร็จ                                                                                   |
| TC-002        | แสดงรายการการตรวจประเมินเมื่อมีข้อมูล   | 1. Login เป็น auditor<br>2. เข้าเมนูการตรวจประเมิน               | มีข้อมูลอย่างน้อย 1 รายการ                      | แสดง DataTable รายการการตรวจประเมิน                                                                                  |
| TC-003        | แสดงข้อความเมื่อไม่มีรายการตรวจประเมิน  | 1. Login เป็น auditor<br>2. เข้าเมนูการตรวจประเมิน               | ไม่มีข้อมูล                                     | แสดงข้อความว่าง/empty state บนตาราง                                                                                  |
| TC-004        | แสดงสถานะโหลดข้อมูล                     | 1. Login เป็น auditor<br>2. เข้าเมนูการตรวจประเมิน               | ระบบกำลังโหลดข้อมูล                             | แสดง loading indicator ก่อนตาราง                                                                                     |
| TC-005        | แสดงคอลัมน์หลักครบถ้วน                  | 1. Login เป็น auditor<br>2. เข้าเมนูการตรวจประเมิน               | มีข้อมูล                                        | แสดงคอลัมน์ รหัสการตรวจ, วันที่และเวลา, ประเภทการตรวจ, สถานที่, จังหวัด/อำเภอ/ตำบล, ชื่อเกษตรกร, สถานะ, การดำเนินการ |
| TC-006        | แสดงรหัสการตรวจในแต่ละแถว               | 1. เข้าเมนูการตรวจประเมิน<br>2. ตรวจสอบรหัสในแถวข้อมูล           | inspectionNo = INS-0001                         | แสดงรหัสการตรวจเป็น INS-0001                                                                                         |
| TC-007        | แสดงวันที่และเวลาตรวจในรูปแบบที่อ่านได้ | 1. เข้าเมนูการตรวจประเมิน<br>2. ตรวจสอบคอลัมน์วันที่และเวลา      | inspectionDate = 2025-01-15 10:00               | แสดงรูปแบบวันที่/เวลาเป็นภาษาไทยหรือรูปแบบอ่านง่าย                                                                   |
| TC-008        | แสดงประเภทการตรวจประเมิน                | 1. เข้าเมนูการตรวจประเมิน<br>2. ตรวจสอบคอลัมน์ประเภทการตรวจ      | ประเภท = ตรวจรับรอง                             | แสดงข้อความ “ตรวจรับรอง”                                                                                             |
| TC-009        | แสดงชื่อสถานที่สวนยาง                   | 1. เข้าเมนูการตรวจประเมิน<br>2. ตรวจสอบคอลัมน์สถานที่            | สถานที่ = สวนยางบ้านตัวอย่าง                    | แสดงชื่อสถานที่ตามข้อมูล                                                                                             |
| TC-010        | แสดงจังหวัด/อำเภอ/ตำบล                  | 1. เข้าเมนูการตรวจประเมิน<br>2. ตรวจสอบคอลัมน์จังหวัด/อำเภอ/ตำบล | จังหวัด = สงขลา, อำเภอ = หาดใหญ่, ตำบล = คอหงส์ | แสดงจังหวัด/อำเภอ/ตำบลถูกต้อง                                                                                        |
| TC-011        | แสดงชื่อเกษตรกร                         | 1. เข้าเมนูการตรวจประเมิน<br>2. ตรวจสอบคอลัมน์ชื่อเกษตรกร        | ชื่อ = นายสมชาย ใจดี                            | แสดงชื่อเกษตรกรครบถ้วน                                                                                               |
| TC-012        | แสดงปุ่มการดำเนินการในแต่ละแถว          | 1. เข้าเมนูการตรวจประเมิน<br>2. ตรวจสอบคอลัมน์การดำเนินการ       | มีข้อมูลอย่างน้อย 1 รายการ                      | แสดงปุ่ม เช่น “ดูรายละเอียดสวนยาง”, “เริ่มการตรวจประเมิน/ดูผล”                                                       |

## 2. การค้นหาและกรองข้อมูล

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                      | ขั้นตอนการทดสอบ                                                               | ข้อมูลการทดสอบ                   | ค่าคาดหวัง                              |
| ------------- | ------------------------------------- | ----------------------------------------------------------------------------- | -------------------------------- | --------------------------------------- |
| TC-013        | กรองตามจังหวัด                        | 1. เข้าเมนูการตรวจประเมิน<br>2. เลือกจังหวัด “สงขลา”<br>3. กดปุ่มค้นหา        | จังหวัด = สงขลา                  | แสดงรายการเฉพาะจังหวัดสงขลา             |
| TC-014        | กรองตามอำเภอ                          | 1. เลือกจังหวัด “สงขลา”<br>2. เลือกอำเภอ “หาดใหญ่”<br>3. กดปุ่มค้นหา          | จังหวัด = สงขลา, อำเภอ = หาดใหญ่ | แสดงรายการเฉพาะอำเภอหาดใหญ่             |
| TC-015        | กรองตามตำบล                           | 1. เลือกจังหวัด/อำเภอ<br>2. เลือกตำบล “คอหงส์”<br>3. กดปุ่มค้นหา              | ตำบล = คอหงส์                    | แสดงรายการเฉพาะตำบลคอหงส์               |
| TC-016        | กรองตามสถานะการตรวจ                   | 1. เลือกสถานะ “รอการตรวจประเมิน”<br>2. กดปุ่มค้นหา                            | สถานะ = รอการตรวจประเมิน         | แสดงรายการตามสถานะที่เลือก              |
| TC-017        | กรองหลายเงื่อนไขพร้อมกัน              | 1. เลือกจังหวัด “สงขลา”<br>2. เลือกสถานะ “รอการตรวจประเมิน”<br>3. กดปุ่มค้นหา | จังหวัด + สถานะ                  | แสดงรายการที่ตรงทุกเงื่อนไข             |
| TC-018        | กดปุ่มค้นหาเรียกข้อมูลใหม่            | 1. เลือกเงื่อนไขค้นหา<br>2. กดปุ่มค้นหา                                       | มีเงื่อนไขค้นหา                  | ตารางรีเฟรชผลลัพธ์ตามเงื่อนไข           |
| TC-019        | ล้างค่าตัวกรอง                        | 1. ตั้งค่าตัวกรองหลายช่อง<br>2. กดปุ่มล้างค่า                                 | มีค่าตัวกรอง                     | ค่าตัวกรองถูกรีเซ็ตและแสดงรายการทั้งหมด |
| TC-020        | เปลี่ยนจังหวัดแล้วอำเภอ/ตำบลถูกรีเซ็ต | 1. เลือกจังหวัด “สงขลา” และอำเภอ<br>2. เปลี่ยนจังหวัดเป็น “ภูเก็ต”            | เปลี่ยนจังหวัด                   | อำเภอ/ตำบลถูกรีเซ็ตเป็นค่าว่าง          |
| TC-021        | เปลี่ยนอำเภอแล้วตำบลถูกรีเซ็ต         | 1. เลือกจังหวัด/อำเภอ/ตำบล<br>2. เปลี่ยนอำเภอเป็น “สิงหนคร”                   | เปลี่ยนอำเภอ                     | ตำบลถูกรีเซ็ตเป็นค่าว่าง                |
| TC-022        | ไม่พบผลลัพธ์การค้นหา                  | 1. ใส่เงื่อนไขที่ไม่มีข้อมูล<br>2. กดปุ่มค้นหา                                | ไม่มีรายการตรงเงื่อนไข           | แสดงข้อความไม่พบข้อมูล                  |

## 3. การจัดเรียงและแบ่งหน้า

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ             | ขั้นตอนการทดสอบ                                                  | ข้อมูลการทดสอบ    | ค่าคาดหวัง                    |
| ------------- | ---------------------------- | ---------------------------------------------------------------- | ----------------- | ----------------------------- |
| TC-023        | เปลี่ยนหน้าในตาราง           | 1. เข้าเมนูการตรวจประเมิน<br>2. กดไปหน้าถัดไปใน pagination       | มีข้อมูลหลายหน้า  | แสดงข้อมูลหน้าถัดไป           |
| TC-024        | เปลี่ยนจำนวนรายการต่อหน้า    | 1. เข้าเมนูการตรวจประเมิน<br>2. เปลี่ยนจำนวนรายการต่อหน้าเป็น 25 | เปลี่ยน page size | ตารางแสดง 25 รายการต่อหน้า    |
| TC-025        | เรียงตามรหัสการตรวจ          | 1. เข้าเมนูการตรวจประเมิน<br>2. คลิกหัวคอลัมน์ “รหัสการตรวจ”     | มีหลายรายการ      | ตารางเรียงลำดับตามรหัสการตรวจ |
| TC-026        | เรียงตามวันที่และเวลา        | 1. เข้าเมนูการตรวจประเมิน<br>2. คลิกหัวคอลัมน์ “วันที่และเวลา”   | มีหลายรายการ      | ตารางเรียงตามวันที่และเวลา    |
| TC-027        | เรียงตามจังหวัด              | 1. เข้าเมนูการตรวจประเมิน<br>2. คลิกหัวคอลัมน์ “จังหวัด”         | มีหลายรายการ      | ตารางเรียงตามจังหวัด          |
| TC-028        | คงค่าตัวกรองเมื่อเปลี่ยนหน้า | 1. กรองข้อมูลด้วยจังหวัด<br>2. เปลี่ยนหน้าใน pagination          | มีการกรองอยู่     | ตารางยังคงใช้เงื่อนไขเดิม     |

## 4. ดูรายละเอียดสวนยาง

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ              | ขั้นตอนการทดสอบ                                                         | ข้อมูลการทดสอบ   | ค่าคาดหวัง                                            |
| ------------- | ----------------------------- | ----------------------------------------------------------------------- | ---------------- | ----------------------------------------------------- |
| TC-029        | เปิดหน้าต่างรายละเอียดสวนยาง  | 1. เข้าเมนูการตรวจประเมิน<br>2. กดปุ่ม “ดูรายละเอียดสวนยาง” ในแถวข้อมูล | มี rubberFarmId  | เปิด Dialog รายละเอียดสวนยาง                          |
| TC-030        | แสดงสถานะโหลดข้อมูลรายละเอียด | 1. เปิด Dialog รายละเอียดสวนยาง                                         | ระบบกำลังโหลด    | แสดง loading indicator ใน Dialog                      |
| TC-031        | แสดงข้อมูลสำคัญของสวนยาง      | 1. เปิด Dialog รายละเอียดสวนยาง<br>2. ตรวจสอบข้อมูลที่แสดง              | มีข้อมูลสวนยาง   | แสดงชื่อสวน, ที่อยู่, พื้นที่, พิกัด (ตามที่มีในระบบ) |
| TC-032        | ปิด Dialog ด้วยปุ่มปิด        | 1. เปิด Dialog รายละเอียดสวนยาง<br>2. กดปุ่มปิด                         | เปิด Dialog แล้ว | Dialog ปิดและกลับสู่หน้ารายการ                        |
| TC-033        | ปิด Dialog ด้วยปุ่ม “ปิด”     | 1. เปิด Dialog รายละเอียดสวนยาง<br>2. กดปุ่ม “ปิด” ด้านล่าง             | เปิด Dialog แล้ว | Dialog ปิดตามปุ่มที่กด                                |

## 5. เริ่มการตรวจประเมินและกรอกผล

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                    | ขั้นตอนการทดสอบ                                                              | ข้อมูลการทดสอบ           | ค่าคาดหวัง                                  |
| ------------- | ----------------------------------- | ---------------------------------------------------------------------------- | ------------------------ | ------------------------------------------- |
| TC-034        | เข้าแบบฟอร์มตรวจประเมินจากรายการ    | 1. เข้าเมนูการตรวจประเมิน<br>2. กดปุ่ม “เริ่มการตรวจประเมิน” ในแถวที่สถานะรอ | สถานะ = รอการตรวจประเมิน | เปิดหน้าแบบฟอร์มตรวจประเมิน                 |
| TC-035        | แสดงข้อมูลหัวเรื่องการตรวจ          | 1. เข้าแบบฟอร์มตรวจประเมิน                                                   | มีข้อมูลการตรวจ          | แสดงรหัสการตรวจ, ชื่อเกษตรกร, สถานที่ตรวจ   |
| TC-036        | โหลดรายการข้อกำหนด/รายการตรวจ       | 1. เข้าแบบฟอร์มตรวจประเมิน<br>2. รอโหลดข้อมูล                                | มีรายการตรวจ             | แสดงรายการข้อกำหนดในเมนู/ลิสต์              |
| TC-037        | เปิดดูรายละเอียดรายการตรวจ          | 1. เลือกรายการข้อกำหนดจากลิสต์                                               | เลือกข้อกำหนดลำดับที่ 1  | แสดงรายละเอียดข้อกำหนดและตัวเลือกการประเมิน |
| TC-038        | กดปุ่ม “ถัดไป” เพื่อเปลี่ยนรายการ   | 1. อยู่ที่รายการตรวจลำดับที่ 1<br>2. กดปุ่ม “ถัดไป”                          | มีรายการถัดไป            | เปลี่ยนไปยังรายการถัดไป                     |
| TC-039        | กดปุ่ม “ก่อนหน้า” เพื่อย้อนกลับ     | 1. อยู่ที่รายการตรวจลำดับที่ 2<br>2. กดปุ่ม “ก่อนหน้า”                       | มีรายการก่อนหน้า         | เปลี่ยนกลับไปยังรายการก่อนหน้า              |
| TC-040        | บันทึกรายการโดยไม่เลือกผลประเมิน    | 1. เลือกรายการตรวจ<br>2. ไม่เลือกผลประเมิน<br>3. กดปุ่มบันทึกรายการ          | ไม่เลือกผลประเมิน        | แสดงข้อความเตือนให้เลือกผลประเมิน           |
| TC-041        | บันทึกรายการเมื่อเลือกผลประเมินแล้ว | 1. เลือกรายการตรวจ<br>2. เลือกผลประเมิน “ผ่าน/ไม่ผ่าน”<br>3. กดบันทึกรายการ  | เลือกผลประเมินแล้ว       | บันทึกรายการสำเร็จและแสดงข้อความสำเร็จ      |
| TC-042        | บันทึกหมายเหตุของรายการตรวจ         | 1. เลือกรายการตรวจ<br>2. กรอกหมายเหตุ<br>3. กดบันทึกรายการ                   | มีหมายเหตุ               | หมายเหตุถูกบันทึกและแสดงเมื่อกลับมาดูรายการ |

## 6. การบันทึกและเสร็จสิ้นการตรวจประเมิน

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                     | ขั้นตอนการทดสอบ                                                          | ข้อมูลการทดสอบ | ค่าคาดหวัง                                                      |
| ------------- | ------------------------------------ | ------------------------------------------------------------------------ | -------------- | --------------------------------------------------------------- |
| TC-043        | บันทึกทุกรายการสำเร็จ                | 1. กรอกผลประเมินครบทุกข้อกำหนด<br>2. กดปุ่ม “บันทึกทั้งหมด”              | ข้อมูลครบถ้วน  | แสดงข้อความบันทึกสำเร็จ                                         |
| TC-044        | เสร็จสิ้นการตรวจประเมิน              | 1. บันทึกครบทุกข้อกำหนด<br>2. กดปุ่ม “เสร็จสิ้นการตรวจประเมิน”           | ข้อมูลครบถ้วน  | แสดงข้อความสำเร็จและกลับหน้ารายการ พร้อมสถานะ “ตรวจประเมินแล้ว” |
| TC-045        | ป้องกันการเสร็จสิ้นเมื่อข้อมูลไม่ครบ | 1. กรอกผลประเมินไม่ครบทุกข้อกำหนด<br>2. กดปุ่ม “เสร็จสิ้นการตรวจประเมิน” | ข้อมูลไม่ครบ   | แสดงข้อความเตือนและไม่อนุญาตให้เสร็จสิ้น                        |
