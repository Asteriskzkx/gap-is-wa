# แผนการทดสอบการตรวจประเมินสวนยางพารา

## การแสดงรายการการตรวจประเมิน

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                 | ขั้นตอนการทดสอบ                                                               | ข้อมูลการทดสอบ                                                     | ค่าคาดหวัง                                                                                                             |
| ------------- | -------------------------------- | ----------------------------------------------------------------------------- | ------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------- |
| TC-001        | แสดงรายการการตรวจประเมินทั้งหมด  | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน                            | Auditor มีการตรวจประเมิน 10 รายการ                                 | แสดง DataTable พร้อมรายการการตรวจประเมินทั้ง 10 รายการ                                                                 |
| TC-002        | ไม่มีการตรวจประเมินในระบบ        | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน                            | Auditor ยังไม่มีการตรวจประเมิน                                     | แสดง DataTable ว่าง และข้อความ empty message                                                                           |
| TC-003        | Loading state เมื่อโหลดข้อมูล    | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน                            | กำลังโหลดข้อมูล                                                    | แสดง loading indicator ใน DataTable                                                                                    |
| TC-004        | แสดงคอลัมน์ครบถ้วน               | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. ตรวจสอบคอลัมน์       | ไม่มี                                                              | แสดงคอลัมน์: รหัสการตรวจ, วันที่และเวลาตรวจ, ประเภทการตรวจ, สถานที่, จังหวัด, อำเภอ, ตำบล, ชื่อเกษตรกร, สถานะ, Actions |
| TC-005        | แสดงรหัสการตรวจถูกต้อง           | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. ตรวจสอบรหัสการตรวจ   | inspectionNo = 123                                                 | แสดงรหัสการตรวจ "123"                                                                                                  |
| TC-006        | แสดงวันที่และเวลาตรวจในรูปแบบไทย | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. ตรวจสอบวันที่และเวลา | inspectionDateAndTime = "2025-01-15T10:00:00"                      | แสดง "15 มกราคม 2568 10:00 น."                                                                                         |
| TC-007        | แสดงประเภทการตรวจถูกต้อง         | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. ตรวจสอบประเภทการตรวจ | inspectionType.typeName = "ตรวจรับรอง"                             | แสดงประเภทการตรวจ "ตรวจรับรอง"                                                                                         |
| TC-008        | แสดงสถานที่ถูกต้อง               | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. ตรวจสอบสถานที่       | rubberFarm.villageName = "หมู่บ้านสวนยาง"                          | แสดงสถานที่ "หมู่บ้านสวนยาง"                                                                                           |
| TC-009        | แสดงจังหวัดถูกต้อง               | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. ตรวจสอบจังหวัด       | rubberFarm.province = "สงขลา"                                      | แสดงจังหวัด "สงขลา"                                                                                                    |
| TC-010        | แสดงอำเภอถูกต้อง                 | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. ตรวจสอบอำเภอ         | rubberFarm.district = "หาดใหญ่"                                    | แสดงอำเภอ "หาดใหญ่"                                                                                                    |
| TC-011        | แสดงตำบลถูกต้อง                  | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. ตรวจสอบตำบล          | rubberFarm.subDistrict = "หาดใหญ่"                                 | แสดงตำบล "หาดใหญ่"                                                                                                     |
| TC-012        | แสดงชื่อเกษตรกรถูกต้อง           | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. ตรวจสอบชื่อเกษตรกร   | farmer = {namePrefix: "นาย", firstName: "สมชาย", lastName: "ใจดี"} | แสดงชื่อเกษตรกร "นายสมชาย ใจดี"                                                                                        |

## การแสดงสถานะการตรวจประเมิน

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ             | ขั้นตอนการทดสอบ                                                       | ข้อมูลการทดสอบ                        | ค่าคาดหวัง                                                   |
| ------------- | ---------------------------- | --------------------------------------------------------------------- | ------------------------------------- | ------------------------------------------------------------ |
| TC-013        | แสดงสถานะ "รอการตรวจประเมิน" | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. ตรวจสอบสถานะ | inspectionStatus = "รอการตรวจประเมิน" | แสดงสถานะ "รอการตรวจประเมิน" (bg-yellow-100 text-yellow-800) |
| TC-014        | แสดงสถานะ "ตรวจประเมินแล้ว"  | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. ตรวจสอบสถานะ | inspectionStatus = "ตรวจประเมินแล้ว"  | แสดงสถานะ "ตรวจประเมินแล้ว" (bg-green-100 text-green-800)    |
| TC-015        | แสดงสถานะอื่นๆ               | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. ตรวจสอบสถานะ | inspectionStatus = "อื่นๆ"            | แสดงสถานะด้วยสี (bg-gray-100 text-gray-800)                  |

## การค้นหาและกรองข้อมูล

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ               | ขั้นตอนการทดสอบ                                                                                                                                             | ข้อมูลการทดสอบ                                     | ค่าคาดหวัง                                           |
| ------------- | ------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------- | ---------------------------------------------------- |
| TC-016        | กรองตามจังหวัด                 | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. เลือกจังหวัด: สงขลา<br>4. กดปุ่มค้นหา                                                              | เลือกจังหวัด: สงขลา                                | แสดงเฉพาะการตรวจประเมินในจังหวัดสงขลา                |
| TC-017        | กรองตามอำเภอ                   | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. เลือกจังหวัด: สงขลา<br>4. เลือกอำเภอ: หาดใหญ่<br>5. กดปุ่มค้นหา                                    | เลือกจังหวัด: สงขลา, อำเภอ: หาดใหญ่                | แสดงเฉพาะการตรวจประเมินในอำเภอหาดใหญ่                |
| TC-018        | กรองตามตำบล                    | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. เลือกจังหวัด/อำเภอ/ตำบล<br>4. กดปุ่มค้นหา                                                          | เลือกจังหวัด: สงขลา, อำเภอ: หาดใหญ่, ตำบล: หาดใหญ่ | แสดงเฉพาะการตรวจประเมินในตำบลหาดใหญ่                 |
| TC-019        | กรองตามสถานะการตรวจ            | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. เลือกสถานะ: รอการตรวจประเมิน<br>4. กดปุ่มค้นหา                                                     | เลือกสถานะ: รอการตรวจประเมิน                       | แสดงเฉพาะการตรวจประเมินที่มีสถานะ "รอการตรวจประเมิน" |
| TC-020        | ล้างค่าตัวกรอง                 | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. เลือกจังหวัด/อำเภอ/ตำบล/สถานะ<br>4. กดปุ่มล้างค่า                                                  | มีค่าตัวกรองอยู่                                   | ล้างค่าทุกตัวกรอง และแสดงการตรวจประเมินทั้งหมด       |
| TC-021        | เลือกจังหวัดแล้วอำเภอถูก reset | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. เลือกจังหวัด: สงขลา<br>4. เลือกอำเภอ: หาดใหญ่<br>5. เปลี่ยนจังหวัด: ภูเก็ต                         | เปลี่ยนจังหวัด                                     | อำเภอและตำบลถูก reset เป็นค่าว่าง                    |
| TC-022        | เลือกอำเภอแล้วตำบลถูก reset    | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. เลือกจังหวัด: สงขลา<br>4. เลือกอำเภอ: หาดใหญ่<br>5. เลือกตำบล: หาดใหญ่<br>6. เปลี่ยนอำเภอ: สิงหนคร | เปลี่ยนอำเภอ                                       | ตำบลถูก reset เป็นค่าว่าง                            |

## การใช้งาน Pagination และ Sorting

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ          | ขั้นตอนการทดสอบ                                                                                                                      | ข้อมูลการทดสอบ                             | ค่าคาดหวัง                                  |
| ------------- | ------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------ | ------------------------------------------- |
| TC-023        | เปลี่ยนหน้า pagination    | 1. Login เป็น auditor (มีการตรวจ 25 รายการ)<br>2. เข้าหน้าการตรวจประเมิน<br>3. คลิกหน้า 2 ใน pagination                              | มีการตรวจ 25 รายการ, แสดง 10 รายการต่อหน้า | แสดงการตรวจรายการที่ 11-20                  |
| TC-024        | เปลี่ยนจำนวนรายการต่อหน้า | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. เปลี่ยนจาก 10 เป็น 25 รายการต่อหน้า                                         | เปลี่ยนเป็น 25 รายการต่อหน้า               | แสดงการตรวจ 25 รายการต่อหน้า                |
| TC-025        | เรียงลำดับตามรหัสการตรวจ  | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. คลิกที่หัวคอลัมน์ "รหัสการตรวจ"                                             | คลิกเรียงลำดับ                             | เรียงลำดับการตรวจตามรหัสการตรวจจากน้อยไปมาก |
| TC-026        | เรียงลำดับตามวันที่ตรวจ   | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. คลิกที่หัวคอลัมน์ "วันที่และเวลาตรวจ"                                       | คลิกเรียงลำดับ                             | เรียงลำดับการตรวจตามวันที่จากเก่าไปใหม่     |
| TC-027        | เรียงลำดับหลายคอลัมน์     | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. กด Ctrl+คลิกที่หัวคอลัมน์ "จังหวัด"<br>4. กด Ctrl+คลิกที่หัวคอลัมน์ "อำเภอ" | เรียงลำดับหลายคอลัมน์                      | เรียงลำดับตามจังหวัดก่อน แล้วตามอำเภอ       |

## การดูรายละเอียดสวนยาง

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                 | ขั้นตอนการทดสอบ                                                                                          | ข้อมูลการทดสอบ                    | ค่าคาดหวัง                                                                 |
| ------------- | -------------------------------- | -------------------------------------------------------------------------------------------------------- | --------------------------------- | -------------------------------------------------------------------------- |
| TC-028        | กดปุ่มดูรายละเอียดสวนยาง         | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. กดปุ่ม "ดูรายละเอียดสวนยาง"                     | มีการตรวจที่มี rubberFarmId = 123 | เปิด Dialog แสดงรายละเอียดสวนยาง                                           |
| TC-029        | แสดง loading เมื่อโหลดรายละเอียด | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. กดปุ่ม "ดูรายละเอียดสวนยาง"                     | กำลังโหลดข้อมูลสวนยาง             | แสดง loading indicator ใน Dialog                                           |
| TC-030        | แสดงข้อมูลสวนยางครบถ้วน          | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. กดปุ่ม "ดูรายละเอียดสวนยาง"<br>4. ตรวจสอบข้อมูล | API ส่งข้อมูลสวนยางครบถ้วน        | แสดงข้อมูล: ที่อยู่, พื้นที่, จำนวนต้น, พันธุ์ยาง, แปลงปลูก, ข้อมูลเกษตรกร |
| TC-031        | ปิด Dialog รายละเอียดสวนยาง      | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. กดปุ่ม "ดูรายละเอียดสวนยาง"<br>4. กดปุ่มปิด     | Dialog เปิดอยู่                   | ปิด Dialog และกลับสู่หน้ารายการการตรวจ                                     |

## การเริ่มต้นการตรวจประเมิน

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                | ขั้นตอนการทดสอบ                                                                       | ข้อมูลการทดสอบ                           | ค่าคาดหวัง                                     |
| ------------- | ------------------------------- | ------------------------------------------------------------------------------------- | ---------------------------------------- | ---------------------------------------------- |
| TC-032        | กดปุ่มเริ่มการตรวจประเมิน       | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. กดปุ่ม "เริ่มการตรวจประเมิน" | การตรวจมีสถานะ "รอการตรวจประเมิน"        | เปิดหน้าฟอร์มการตรวจประเมิน                    |
| TC-033        | โหลดรายการตรวจประเมิน           | 1. Login เป็น auditor<br>2. เข้าหน้าการตรวจประเมิน<br>3. กดปุ่ม "เริ่มการตรวจประเมิน" | inspectionId = 123 มี 5 inspection items | แสดงฟอร์มพร้อมรายการตรวจทั้ง 5 รายการ          |
| TC-034        | แสดงข้อมูลรายการตรวจปัจจุบัน    | 1. Login เป็น auditor<br>2. เริ่มการตรวจประเมิน<br>3. ตรวจสอบข้อมูลที่แสดง            | currentItemIndex = 0                     | แสดงข้อมูลรายการตรวจที่ 1 พร้อมข้อกำหนดทั้งหมด |
| TC-035        | แสดงรายการตรวจเรียงลำดับถูกต้อง | 1. Login เป็น auditor<br>2. เริ่มการตรวจประเมิน<br>3. ตรวจสอบลำดับรายการตรวจ          | มีรายการตรวจหลายรายการ                   | แสดงรายการตรวจเรียงตาม inspectionItemNo        |
| TC-036        | แสดงข้อกำหนดเรียงลำดับถูกต้อง   | 1. Login เป็น auditor<br>2. เริ่มการตรวจประเมิน<br>3. ตรวจสอบลำดับข้อกำหนด            | รายการตรวจมีหลายข้อกำหนด                 | แสดงข้อกำหนดเรียงตาม requirementNo             |

## การกรอกข้อมูลการตรวจประเมิน

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ               | ขั้นตอนการทดสอบ                                                                             | ข้อมูลการทดสอบ                     | ค่าคาดหวัง                                         |
| ------------- | ------------------------------ | ------------------------------------------------------------------------------------------- | ---------------------------------- | -------------------------------------------------- |
| TC-037        | กรอกผลการประเมิน: ใช่          | 1. เริ่มการตรวจประเมิน<br>2. เลือกผลการประเมิน: ใช่<br>3. เลือกวิธีการประเมิน               | ข้อกำหนดที่ 1                      | ระบบยอมรับข้อมูล                                   |
| TC-038        | กรอกผลการประเมิน: ไม่ใช่       | 1. เริ่มการตรวจประเมิน<br>2. เลือกผลการประเมิน: ไม่ใช่<br>3. เลือกวิธีการประเมิน            | ข้อกำหนดที่ 1                      | ระบบยอมรับข้อมูล                                   |
| TC-039        | กรอกวิธีการประเมิน: ตรวจด้วยตา | 1. เริ่มการตรวจประเมิน<br>2. เลือกผลการประเมิน<br>3. เลือกวิธีการประเมิน: ตรวจด้วยตา        | ข้อกำหนดที่ 1                      | ระบบยอมรับข้อมูล                                   |
| TC-040        | กรอกวิธีการประเมิน: สอบถาม     | 1. เริ่มการตรวจประเมิน<br>2. เลือกผลการประเมิน<br>3. เลือกวิธีการประเมิน: สอบถาม            | ข้อกำหนดที่ 1                      | ระบบยอมรับข้อมูล                                   |
| TC-041        | กรอกวิธีการประเมิน: ตรวจเอกสาร | 1. เริ่มการตรวจประเมิน<br>2. เลือกผลการประเมิน<br>3. เลือกวิธีการประเมิน: ตรวจเอกสาร        | ข้อกำหนดที่ 1                      | ระบบยอมรับข้อมูล                                   |
| TC-042        | กรอกหมายเหตุ                   | 1. เริ่มการตรวจประเมิน<br>2. กรอกผลการประเมินและวิธีการ<br>3. กรอกหมายเหตุ: "พบสิ่งผิดปกติ" | ข้อกำหนดที่ 1                      | ระบบยอมรับข้อมูล                                   |
| TC-043        | ไม่กรอกผลการประเมิน            | 1. เริ่มการตรวจประเมิน<br>2. ไม่กรอกผลการประเมิน<br>3. กดบันทึก                             | ข้อกำหนดที่ 1 ยังไม่กรอกข้อมูล     | แจ้งเตือน "กรุณากรอกผลการประเมินและวิธีการประเมิน" |
| TC-044        | ไม่กรอกวิธีการประเมิน          | 1. เริ่มการตรวจประเมิน<br>2. เลือกผลการประเมิน<br>3. ไม่กรอกวิธีการประเมิน<br>4. กดบันทึก   | ข้อกำหนดที่ 1 กรอกผลแต่ไม่กรอกวิธี | แจ้งเตือน "กรุณากรอกผลการประเมินและวิธีการประเมิน" |

## การกรอกข้อมูลเพิ่มเติม (Additional Fields)

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                    | ขั้นตอนการทดสอบ                                                                       | ข้อมูลการทดสอบ             | ค่าคาดหวัง                                            |
| ------------- | ----------------------------------- | ------------------------------------------------------------------------------------- | -------------------------- | ----------------------------------------------------- |
| TC-045        | กรอกข้อมูลรายการตรวจที่ 3 (สารเคมี) | 1. เริ่มการตรวจประเมิน<br>2. ไปที่รายการตรวจที่ 3<br>3. เลือก "ไม่ใช้สารเคมีอันตราย"  | inspectionItemNo = 3       | ระบบยอมรับข้อมูล และผลการตรวจเป็น "ผ่าน" โดยอัตโนมัติ |
| TC-046        | กรอกข้อมูลเพิ่มเติมตาม itemNo       | 1. เริ่มการตรวจประเมิน<br>2. ไปที่รายการที่มีฟิลด์เพิ่มเติม<br>3. กรอกข้อมูลเพิ่มเติม | รายการตรวจมีฟิลด์เพิ่มเติม | ระบบบันทึกข้อมูลใน otherConditions                    |

## การนำทางระหว่างรายการตรวจ

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                      | ขั้นตอนการทดสอบ                                                                      | ข้อมูลการทดสอบ                                | ค่าคาดหวัง                                      |
| ------------- | ------------------------------------- | ------------------------------------------------------------------------------------ | --------------------------------------------- | ----------------------------------------------- |
| TC-047        | กดปุ่มถัดไป                           | 1. เริ่มการตรวจประเมิน (อยู่รายการที่ 1)<br>2. กดปุ่ม "ถัดไป"                        | currentItemIndex = 0                          | ไปยังรายการตรวจที่ 2 (currentItemIndex = 1)     |
| TC-048        | กดปุ่มก่อนหน้า                        | 1. เริ่มการตรวจประเมิน (อยู่รายการที่ 2)<br>2. กดปุ่ม "ก่อนหน้า"                     | currentItemIndex = 1                          | กลับไปยังรายการตรวจที่ 1 (currentItemIndex = 0) |
| TC-049        | ปุ่มก่อนหน้าถูก disable ที่รายการแรก  | 1. เริ่มการตรวจประเมิน (อยู่รายการที่ 1)<br>2. ตรวจสอบปุ่ม "ก่อนหน้า"                | currentItemIndex = 0                          | ปุ่ม "ก่อนหน้า" ถูก disable                     |
| TC-050        | ปุ่มถัดไปถูก disable ที่รายการสุดท้าย | 1. เริ่มการตรวจประเมิน<br>2. ไปยังรายการสุดท้าย<br>3. ตรวจสอบปุ่ม "ถัดไป"            | currentItemIndex = inspectionItems.length - 1 | ปุ่ม "ถัดไป" ถูก disable                        |
| TC-051        | เปลี่ยนรายการโดยไม่บันทึก             | 1. เริ่มการตรวจประเมิน<br>2. กรอกข้อมูลรายการที่ 1<br>3. กดปุ่ม "ถัดไป" โดยไม่บันทึก | มีการแก้ไขข้อมูลแต่ไม่บันทึก                  | เปลี่ยนรายการได้ แต่ข้อมูลไม่ถูกบันทึก          |

## การบันทึกข้อมูล

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                       | ขั้นตอนการทดสอบ                                                                           | ข้อมูลการทดสอบ          | ค่าคาดหวัง                                         |
| ------------- | -------------------------------------- | ----------------------------------------------------------------------------------------- | ----------------------- | -------------------------------------------------- |
| TC-052        | บันทึกรายการปัจจุบันสำเร็จ             | 1. เริ่มการตรวจประเมิน<br>2. กรอกข้อมูลรายการที่ 1 ครบถ้วน<br>3. กดปุ่ม "บันทึกรายการนี้" | ข้อมูลครบถ้วน           | แสดง success message และบันทึกข้อมูลสำเร็จ         |
| TC-053        | บันทึกรายการที่ข้อมูลไม่ครบ            | 1. เริ่มการตรวจประเมิน<br>2. กรอกข้อมูลไม่ครบ<br>3. กดปุ่ม "บันทึกรายการนี้"              | ข้อมูลไม่ครบถ้วน        | แจ้งเตือน "กรุณากรอกผลการประเมินและวิธีการประเมิน" |
| TC-054        | บันทึกทุกรายการสำเร็จ                  | 1. เริ่มการตรวจประเมิน<br>2. กรอกข้อมูลทุกรายการครบถ้วน<br>3. กดปุ่ม "บันทึกทั้งหมด"      | ทุกรายการกรอกข้อมูลครบ  | แสดง success message และบันทึกทุกรายการสำเร็จ      |
| TC-055        | บันทึกทุกรายการแต่มีรายการไม่ครบ       | 1. เริ่มการตรวจประเมิน<br>2. กรอกข้อมูลบางรายการ<br>3. กดปุ่ม "บันทึกทั้งหมด"             | มีรายการที่ข้อมูลไม่ครบ | แจ้งเตือนพร้อมระบุรายการที่ข้อมูลไม่ครบ            |
| TC-056        | แสดง loading เมื่อบันทึก               | 1. เริ่มการตรวจประเมิน<br>2. กรอกข้อมูลครบถ้วน<br>3. กดปุ่ม "บันทึก"                      | กำลังบันทึกข้อมูล       | แสดง loading indicator บนปุ่มบันทึก                |
| TC-057        | ปุ่มบันทึกถูก disable เมื่อกำลังบันทึก | 1. เริ่มการตรวจประเมิน<br>2. กดปุ่ม "บันทึก"<br>3. ตรวจสอบสถานะปุ่ม                       | saving = true           | ปุ่มบันทึกถูก disable จนกว่าจะบันทึกเสร็จ          |

## การคำนวณผลการตรวจ

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                              | ขั้นตอนการทดสอบ                                                                                   | ข้อมูลการทดสอบ                                 | ค่าคาดหวัง                                 |
| ------------- | --------------------------------------------- | ------------------------------------------------------------------------------------------------- | ---------------------------------------------- | ------------------------------------------ |
| TC-058        | ผลการตรวจ "ผ่าน" เมื่อข้อกำหนดหลักผ่านทั้งหมด | 1. เริ่มการตรวจประเมิน<br>2. กรอกผลการประเมิน: ใช่ สำหรับข้อกำหนดหลักทั้งหมด<br>3. บันทึก         | ข้อกำหนดหลักทั้งหมดได้รับ "ใช่"                | ผลการตรวจของรายการเป็น "ผ่าน"              |
| TC-059        | ผลการตรวจ "ไม่ผ่าน" เมื่อข้อกำหนดหลักไม่ผ่าน  | 1. เริ่มการตรวจประเมิน<br>2. กรอกผลการประเมิน: ไม่ใช่ สำหรับข้อกำหนดหลัก 1 ข้อ<br>3. บันทึก       | ข้อกำหนดหลักอย่างน้อย 1 ข้อได้รับ "ไม่ใช่"     | ผลการตรวจของรายการเป็น "ไม่ผ่าน"           |
| TC-060        | ผลการตรวจพิจารณาเฉพาะข้อกำหนดหลัก             | 1. เริ่มการตรวจประเมิน<br>2. ข้อกำหนดหลักผ่านทั้งหมด<br>3. ข้อกำหนดรองไม่ผ่าน<br>4. บันทึก        | ข้อกำหนดหลักผ่าน, ข้อกำหนดรองไม่ผ่าน           | ผลการตรวจของรายการยังคงเป็น "ผ่าน"         |
| TC-061        | รายการที่ 3 ผ่านเมื่อไม่ใช้สารอันตราย         | 1. เริ่มการตรวจประเมิน<br>2. ไปที่รายการตรวจที่ 3<br>3. เลือก "ไม่ใช้สารเคมีอันตราย"<br>4. บันทึก | inspectionItemNo = 3, notUsingHazardous = true | ผลการตรวจเป็น "ผ่าน" โดยไม่พิจารณาข้อกำหนด |
| TC-062        | ผลการตรวจ "NOT_EVALUATED" เมื่อยังไม่ประเมิน  | 1. เริ่มการตรวจประเมิน<br>2. ไม่กรอกข้อมูล (evaluationMethod = "PENDING")<br>3. บันทึก            | มีข้อกำหนดที่ยังไม่ได้ประเมิน                  | ผลการตรวจเป็น "NOT_EVALUATED"              |

## การเสร็จสิ้นการตรวจประเมิน

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                           | ขั้นตอนการทดสอบ                                                                                       | ข้อมูลการทดสอบ               | ค่าคาดหวัง                                                |
| ------------- | ------------------------------------------ | ----------------------------------------------------------------------------------------------------- | ---------------------------- | --------------------------------------------------------- |
| TC-063        | เสร็จสิ้นการตรวจสำเร็จ                     | 1. เริ่มการตรวจประเมิน<br>2. กรอกข้อมูลทุกรายการครบถ้วน<br>3. กดปุ่ม "เสร็จสิ้นการตรวจ"               | ข้อมูลทุกรายการครบถ้วน       | แสดง success message และอัปเดตสถานะเป็น "ตรวจประเมินแล้ว" |
| TC-064        | ไม่สามารถเสร็จสิ้นเมื่อข้อมูลไม่ครบ        | 1. เริ่มการตรวจประเมิน<br>2. กรอกข้อมูลไม่ครบ<br>3. กดปุ่ม "เสร็จสิ้นการตรวจ"                         | มีรายการที่ข้อมูลไม่ครบ      | แจ้งเตือน "กรุณากรอกข้อมูลทุกรายการให้ครบถ้วน"            |
| TC-065        | ปุ่มเสร็จสิ้นถูก disable เมื่อข้อมูลไม่ครบ | 1. เริ่มการตรวจประเมิน<br>2. กรอกข้อมูลไม่ครบ<br>3. ตรวจสอบปุ่ม "เสร็จสิ้นการตรวจ"                    | มีรายการที่ข้อมูลไม่ครบ      | ปุ่ม "เสร็จสิ้นการตรวจ" ถูก disable                       |
| TC-066        | บันทึกทั้งหมดก่อนเสร็จสิ้น                 | 1. เริ่มการตรวจประเมิน<br>2. กรอกข้อมูลครบถ้วน<br>3. กดปุ่ม "เสร็จสิ้นการตรวจ"                        | ข้อมูลครบถ้วนแต่ยังไม่บันทึก | ระบบบันทึกข้อมูลทั้งหมดก่อนเสร็จสิ้น                      |
| TC-067        | กลับสู่หน้ารายการหลังเสร็จสิ้น             | 1. เริ่มการตรวจประเมิน<br>2. กรอกข้อมูลครบถ้วน<br>3. กดปุ่ม "เสร็จสิ้นการตรวจ"<br>4. รอการบันทึกเสร็จ | บันทึกสำเร็จ                 | กลับสู่หน้ารายการการตรวจประเมิน                           |

## Optimistic Locking และ Version Control

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                    | ขั้นตอนการทดสอบ                                                                                            | ข้อมูลการทดสอบ         | ค่าคาดหวัง                                    |
| ------------- | ----------------------------------- | ---------------------------------------------------------------------------------------------------------- | ---------------------- | --------------------------------------------- |
| TC-068        | บันทึกสำเร็จด้วย version ที่ถูกต้อง | 1. เริ่มการตรวจประเมิน<br>2. กรอกข้อมูล<br>3. บันทึก                                                       | version = 1            | บันทึกสำเร็จและ version เพิ่มขึ้นเป็น 2       |
| TC-069        | ตรวจพบ version conflict             | 1. เริ่มการตรวจประเมิน (version = 1)<br>2. ผู้ใช้อื่นบันทึก (version = 2)<br>3. พยายามบันทึก (version = 1) | version ไม่ตรงกัน      | แสดง error message "ข้อมูลถูกแก้ไขโดยผู้อื่น" |
| TC-070        | อัปเดต version หลังบันทึกสำเร็จ     | 1. เริ่มการตรวจประเมิน<br>2. กรอกข้อมูลและบันทึก<br>3. ตรวจสอบ version                                     | version = 1 ก่อนบันทึก | version อัปเดตเป็น 2 หลังบันทึก               |

## การจัดการ Error และ Edge Cases

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                      | ขั้นตอนการทดสอบ                                                          | ข้อมูลการทดสอบ    | ค่าคาดหวัง                        |
| ------------- | ------------------------------------- | ------------------------------------------------------------------------ | ----------------- | --------------------------------- |
| TC-071        | แสดง error เมื่อ API ล้มเหลว          | 1. เริ่มการตรวจประเมิน<br>2. กรอกข้อมูล<br>3. บันทึก (API error)         | API ส่งกลับ error | แสดง error message สีแดง          |
| TC-072        | แสดง error เมื่อโหลดรายการตรวจล้มเหลว | 1. Login เป็น auditor<br>2. กดปุ่ม "เริ่มการตรวจประเมิน"<br>3. API error | API ส่งกลับ error | แสดง error message และปิดฟอร์ม    |
| TC-073        | จัดการเมื่อไม่มีข้อกำหนด              | 1. เริ่มการตรวจประเมิน<br>2. รายการตรวจไม่มีข้อกำหนด<br>3. บันทึก        | requirements = [] | ผลการตรวจเป็น "ผ่าน" โดยอัตโนมัติ |
| TC-074        | จัดการเมื่อ session หมดอายุ           | 1. เริ่มการตรวจประเมิน<br>2. Session หมดอายุ<br>3. พยายามบันทึก          | session = null    | redirect ไปหน้า login             |
| TC-075        | จัดการเมื่อ auditor ไม่มีสิทธิ์       | 1. Login ไม่ใช่ auditor<br>2. พยายามเข้าหน้าการตรวจประเมิน               | role ≠ "auditor"  | แสดง error หรือ redirect          |

## การทำงานกับ State และ Hooks

| รหัสกรณีทดสอบ | ชื่อกรณีการทดสอบ                     | ขั้นตอนการทดสอบ                                                                          | ข้อมูลการทดสอบ              | ค่าคาดหวัง                             |
| ------------- | ------------------------------------ | ---------------------------------------------------------------------------------------- | --------------------------- | -------------------------------------- |
| TC-076        | State อัปเดตเมื่อเปลี่ยนรายการ       | 1. เริ่มการตรวจประเมิน (รายการที่ 1)<br>2. กดปุ่ม "ถัดไป"<br>3. ตรวจสอบ currentItemIndex | currentItemIndex = 0 ก่อนกด | currentItemIndex = 1 หลังกด            |
| TC-077        | ข้อกำหนดถูกเรียงลำดับอัตโนมัติ       | 1. เริ่มการตรวจประเมิน<br>2. โหลดข้อมูล<br>3. ตรวจสอบลำดับ requirements                  | requirements ไม่เรียงลำดับ  | requirements ถูกเรียงตาม requirementNo |
| TC-078        | Form state reset เมื่อเปลี่ยนการตรวจ | 1. เริ่มการตรวจประเมิน (การตรวจ A)<br>2. กรอกข้อมูล<br>3. เลือกการตรวจ B                 | เลือกการตรวจใหม่            | State reset และโหลดข้อมูลการตรวจใหม่   |
